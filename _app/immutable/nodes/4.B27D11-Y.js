import{s as Pa,n as Vs,v as Ds,b as ws,o as Ca,d as ba,e as Ea,f as n,i as La,j as p,k as o,l as m,m as C,p as K,q as g,r,t as U}from"../chunks/BYLBfqqe.js";import{g as za}from"../chunks/D0QH3NT1.js";import{S as Ra,i as Ta,d as xt,e as qe,v as Na,b as f,s as Z,f as yt,g as e,c as a}from"../chunks/CZ_bGV5W.js";import{w as Ge,d as ve}from"../chunks/bzQUwULm.js";import{c as Ha,b as Ba,i as ja,g as Oa,d as Fa}from"../chunks/CzoHSiXM.js";const Qa=[{name:"Mycelix-Core",version:"0.6.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:6},{name:"Mycelix-Mail",version:"0.2.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:4},{name:"Mycelix-Marketplace",version:"0.4.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:12},{name:"Mycelix-EduNet",version:"0.3.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:18},{name:"Mycelix-SupplyChain",version:"0.1.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:10},{name:"Mycelix-Identity",version:"0.1.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:4},{name:"Mycelix-Governance",version:"0.1.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:4},{name:"Mycelix-Justice",version:"0.1.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:4},{name:"Mycelix-Finance",version:"0.1.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:4},{name:"Mycelix-Property",version:"0.1.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:4},{name:"Mycelix-Energy",version:"0.1.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:4},{name:"Mycelix-Media",version:"0.1.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:4},{name:"Mycelix-Knowledge",version:"0.1.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:4},{name:"Mycelix-Fabrication",version:"0.1.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:14},{name:"Mycelix-Care",version:"0.1.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:12},{name:"Mycelix-Emergency",version:"0.1.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:14},{name:"Mycelix-Water",version:"0.1.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:12},{name:"Mycelix-Housing",version:"0.1.0",status:"healthy",hdkVersion:"0.6.0",nodeCount:0,lastSeen:Date.now(),zomeCount:14}];function Ka(){return{totalTransactions:0,avgLatencyMs:0,errorRate:0,trustScoreAvg:.85,byzantineEvents:0}}class Ua{constructor(){this.alerts=[],this.listeners=new Set,this.mfaListeners=new Set,this.status={healthy:!0,totalNodes:0,byzantineTolerance:34,happs:Qa.map(t=>({...t,metrics:Ka()})),crossHappQueries:0,bridgeMessageCount:0,lastAuditTime:Date.now()},this.mfaMetrics=this.defaultMfaMetrics()}defaultMfaMetrics(){return{totalMfaEnabled:0,totalDids:0,mfaAdoptionRate:0,assuranceLevelDistribution:{anonymous:0,basic:0,verified:0,highlyAssured:0,constitutionallyCritical:0},factorTypeDistribution:{primaryKeyPair:0,hardwareKey:0,biometric:0,socialRecovery:0,gitcoinPassport:0,verifiableCredential:0,reputationAttestation:0,securityQuestions:0,recoveryPhrase:0},flEligibleCount:0,flEligibilityRate:0,avgFactorsPerIdentity:0,avgCategoriesPerIdentity:0,avgAssuranceScore:0,staleFactorCount:0,factorsNeedingReverification:0,recentEnrollments:0,recentRevocations:0,recentVerifications:0}}getStatus(){return{...this.status}}getAlerts(){return[...this.alerts]}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}updateHappStatus(t,s){const l=this.status.happs.find(v=>v.name===t);l&&(Object.assign(l,s),l.lastSeen=Date.now(),this.recalculateEcosystemHealth(),this.notifyListeners())}recordBridgeQuery(){this.status.crossHappQueries++,this.status.bridgeMessageCount++,this.notifyListeners()}addAlert(t,s,l){const v={id:`alert-${Date.now()}-${Math.random().toString(36).slice(2)}`,severity:t,message:s,source:l,timestamp:Date.now(),resolved:!1};this.alerts.unshift(v),this.alerts.length>100&&(this.alerts=this.alerts.slice(0,100));const u=this.status.happs.find(d=>d.name===l);u&&u.metrics.byzantineEvents++,this.notifyListeners()}resolveAlert(t){const s=this.alerts.find(l=>l.id===t);s&&(s.resolved=!0,this.notifyListeners())}simulateMetricsUpdate(){this.status.happs.forEach(t=>{t.metrics.totalTransactions+=Math.floor(Math.random()*10),t.metrics.avgLatencyMs=50+Math.random()*100,t.metrics.trustScoreAvg=.8+Math.random()*.15,t.nodeCount=Math.floor(5+Math.random()*20)}),this.status.totalNodes=this.status.happs.reduce((t,s)=>t+s.nodeCount,0),this.notifyListeners(),this.simulateMfaMetrics()}getMfaMetrics(){return{...this.mfaMetrics}}subscribeMfa(t){return this.mfaListeners.add(t),()=>this.mfaListeners.delete(t)}updateMfaMetrics(t){Object.assign(this.mfaMetrics,t),this.notifyMfaListeners()}recordMfaEnrollment(){this.mfaMetrics.recentEnrollments++,this.mfaMetrics.totalMfaEnabled++,this.recalculateMfaRates(),this.notifyMfaListeners()}recordMfaRevocation(){this.mfaMetrics.recentRevocations++,this.notifyMfaListeners()}recordMfaVerification(){this.mfaMetrics.recentVerifications++,this.mfaMetrics.factorsNeedingReverification>0&&this.mfaMetrics.factorsNeedingReverification--,this.notifyMfaListeners()}updateAssuranceDistribution(t,s){const l=t.toLowerCase();l in this.mfaMetrics.assuranceLevelDistribution&&(this.mfaMetrics.assuranceLevelDistribution[l]+=s),this.recalculateMfaRates(),this.notifyMfaListeners()}simulateMfaMetrics(){const t=100+Math.floor(Math.random()*50),s=Math.floor(t*(.65+Math.random()*.2));this.mfaMetrics.totalDids=t,this.mfaMetrics.totalMfaEnabled=s,this.mfaMetrics.mfaAdoptionRate=s/t*100,this.mfaMetrics.assuranceLevelDistribution={anonymous:Math.floor(s*.05),basic:Math.floor(s*.25),verified:Math.floor(s*.4),highlyAssured:Math.floor(s*.22),constitutionallyCritical:Math.floor(s*.08)},this.mfaMetrics.factorTypeDistribution={primaryKeyPair:s,hardwareKey:Math.floor(s*.15),biometric:Math.floor(s*.25),socialRecovery:Math.floor(s*.3),gitcoinPassport:Math.floor(s*.2),verifiableCredential:Math.floor(s*.35),reputationAttestation:Math.floor(s*.45),securityQuestions:Math.floor(s*.4),recoveryPhrase:Math.floor(s*.55)};const l=Math.floor(s*.35);this.mfaMetrics.flEligibleCount=l,this.mfaMetrics.flEligibilityRate=l/s*100,this.mfaMetrics.avgFactorsPerIdentity=2.3+Math.random()*.5,this.mfaMetrics.avgCategoriesPerIdentity=1.8+Math.random()*.4,this.mfaMetrics.avgAssuranceScore=.45+Math.random()*.15,this.mfaMetrics.staleFactorCount=Math.floor(s*.12),this.mfaMetrics.factorsNeedingReverification=Math.floor(s*.08),this.mfaMetrics.recentEnrollments=Math.floor(Math.random()*5),this.mfaMetrics.recentRevocations=Math.floor(Math.random()*2),this.mfaMetrics.recentVerifications=Math.floor(Math.random()*15),this.notifyMfaListeners()}recalculateMfaRates(){this.mfaMetrics.totalDids>0&&(this.mfaMetrics.mfaAdoptionRate=this.mfaMetrics.totalMfaEnabled/this.mfaMetrics.totalDids*100),this.mfaMetrics.totalMfaEnabled>0&&(this.mfaMetrics.flEligibilityRate=this.mfaMetrics.flEligibleCount/this.mfaMetrics.totalMfaEnabled*100)}notifyMfaListeners(){const t=this.getMfaMetrics();this.mfaListeners.forEach(s=>s(t))}recalculateEcosystemHealth(){const t=this.status.happs.filter(l=>l.status==="healthy").length,s=this.status.happs.length;this.status.healthy=t/s>=.6}notifyListeners(){const t=this.getStatus();this.listeners.forEach(s=>s(t))}}let ks=null;function Da(){return ks||(ks=new Ua),ks}const Wa=[{did:"did:mycelix:alice",displayName:"Alice (Patient Builder)",sapBalance:45e3,civScore:.87,commitments:[{tier:"Forest",sapLocked:2e4,durationMonths:180,governanceMultiplier:7,covenantType:"Universal"},{tier:"Tree",sapLocked:1e4,durationMonths:60,governanceMultiplier:2.5,covenantType:"Ecological"}],patienceCoefficient:2.4,hearthShare:.08,hearthWarmth:1200,intentionContributions:[{domain:"Ecological Regeneration",score:.45},{domain:"Knowledge Commons",score:.3}]},{did:"did:mycelix:bob",displayName:"Bob (Active Contributor)",sapBalance:12e3,civScore:.72,commitments:[{tier:"Sapling",sapLocked:5e3,durationMonths:18,governanceMultiplier:1.5,covenantType:"LocalCommunity"}],patienceCoefficient:1.2,hearthShare:.02,hearthWarmth:300,intentionContributions:[{domain:"Digital Sovereignty",score:.6}]},{did:"did:mycelix:carol",displayName:"Carol (New Member)",sapBalance:1e3,civScore:.5,commitments:[{tier:"Sprout",sapLocked:500,durationMonths:3,governanceMultiplier:1,covenantType:"None"}],patienceCoefficient:.6,hearthShare:.005,hearthWarmth:25,intentionContributions:[]},{did:"did:mycelix:agent-helper-01",displayName:"Helper Agent (AI)",sapBalance:0,civScore:.65,commitments:[],patienceCoefficient:1,hearthShare:0,hearthWarmth:0,intentionContributions:[{domain:"Knowledge Commons",score:.25}]}];class qa{constructor(){this.listeners=new Set,this.status={totalSapSupply:1e6,totalHearthPool:15e4,activeCommitments:42,avgPatienceCoefficient:1.45,members:[...Wa],recentActivity:[],agentStats:{totalAgents:12,totalKreditBalance:85e3,avgCivRequirement:.6,activeTasks:8}},this.generateActivity()}getStatus(){return{...this.status,members:[...this.status.members]}}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}simulateUpdate(){this.status.members.forEach(t=>{t.sapBalance+=Math.floor((Math.random()-.3)*100),t.sapBalance<0&&(t.sapBalance=0),t.civScore=Math.min(1,Math.max(.1,t.civScore+(Math.random()-.5)*.02)),t.hearthWarmth+=t.hearthShare*10}),this.status.totalSapSupply+=Math.floor((Math.random()-.4)*500),this.status.totalHearthPool+=Math.floor(Math.random()*100),Math.random()>.6&&this.generateActivity(),this.notifyListeners()}generateActivity(){const t=[{id:`act-${Date.now()}`,type:"hearth_warm",actor:"Alice",amount:500,description:"Warmed HEARTH pool with long-term commitment",timestamp:Date.now()},{id:`act-${Date.now()+1}`,type:"kredit_spend",actor:"Helper Agent",amount:150,description:"Spent KREDIT on knowledge synthesis task",timestamp:Date.now()-3e4},{id:`act-${Date.now()+2}`,type:"intention_contribution",actor:"Bob",amount:.15,description:"Contributed to Digital Sovereignty intention",timestamp:Date.now()-6e4},{id:`act-${Date.now()+3}`,type:"commitment_lock",actor:"Carol",amount:500,description:"Created Sprout-tier temporal commitment",timestamp:Date.now()-12e4}],s=1+Math.floor(Math.random()*2);for(let l=0;l<s;l++){const v=t[Math.floor(Math.random()*t.length)];v.id=`act-${Date.now()}-${Math.random().toString(36).slice(2)}`,v.timestamp=Date.now()-Math.floor(Math.random()*3e5),this.status.recentActivity.unshift({...v})}this.status.recentActivity=this.status.recentActivity.slice(0,20)}notifyListeners(){const t=this.getStatus();this.listeners.forEach(s=>s(t))}}let As=null;function wa(){return As||(As=new qa),As}const gt=Ge(Da().getStatus()),Ga=Ge(wa().getStatus()),fe=Ge([]);ve(Ba,c=>c==="connected");const We=Ge(!1);ve(gt,c=>c.totalNodes);ve(gt,c=>c.happs.filter(t=>t.status==="healthy").length);ve(gt,c=>c.happs.reduce((t,s)=>t+s.metrics.totalTransactions,0));ve(gt,c=>{const t=c.happs.map(s=>s.metrics.trustScoreAvg);return t.reduce((s,l)=>s+l,0)/t.length});ve(fe,c=>c.filter(t=>!t.resolved));async function Ma(){const c=Da(),t=wa();let s=!1;try{s=await Ha(),We.set(s),console.log(`[Observatory] Mode: ${s?"LIVE":"SIMULATION"}`)}catch{console.log("[Observatory] Conductor not available, using simulation mode")}const l=c.subscribe(d=>{gt.set(d),fe.set(c.getAlerts())}),v=t.subscribe(d=>{Ga.set(d)}),u=setInterval(async()=>{if(ja())try{const d=await Oa();fe.set(d);const y=await Fa();gt.update(x=>({...x,crossHappQueries:y.crossHappQueries,bridgeMessageCount:y.messageCount}))}catch{console.warn("[Observatory] Live data fetch failed, falling back to simulation"),c.simulateMetricsUpdate(),t.simulateUpdate()}else c.simulateMetricsUpdate(),t.simulateUpdate()},5e3);return()=>{l(),v(),clearInterval(u)}}const{console:Ya}=za,i="src/routes/+page.svelte";function _a(c,t,s){const l=c.slice();return l[7]=t[s],l}function Sa(c,t,s){const l=c.slice();return l[10]=t[s],l}function ka(c){let t,s="‚óè Demo Mode";const l={c:function(){t=r("span"),t.textContent=s,this.h()},l:function(u){t=o(u,"SPAN",{class:!0,"data-svelte-h":!0}),C(t)!=="svelte-vpj0sv"&&(t.textContent=s),this.h()},h:function(){a(t,"class","text-yellow-400"),n(t,i,65,12,1876)},m:function(u,d){yt(u,t,d)},d:function(u){u&&f(t)}};return xt("SvelteRegisterBlock",{block:l,id:ka.name,type:"else",source:"(58:10) {:else}",ctx:c}),l}function Aa(c){let t,s="‚óè Live Mode";const l={c:function(){t=r("span"),t.textContent=s,this.h()},l:function(u){t=o(u,"SPAN",{class:!0,"data-svelte-h":!0}),C(t)!=="svelte-1jcogt9"&&(t.textContent=s),this.h()},h:function(){a(t,"class","text-green-400"),n(t,i,63,12,1798)},m:function(u,d){yt(u,t,d)},d:function(u){u&&f(t)}};return xt("SvelteRegisterBlock",{block:l,id:Aa.name,type:"if",source:"(56:10) {#if $isLiveMode}",ctx:c}),l}function Is(c){let t,s,l="‚ö†Ô∏è",v,u,d,y="Demo Mode Active",x,_,V="Showing simulated data - no Holochain conductor connected";const S={c:function(){t=r("div"),s=r("span"),s.textContent=l,v=g(),u=r("div"),d=r("div"),d.textContent=y,x=g(),_=r("div"),_.textContent=V,this.h()},l:function(h){t=o(h,"DIV",{class:!0});var w=m(t);s=o(w,"SPAN",{class:!0,"data-svelte-h":!0}),C(s)!=="svelte-a6l2jx"&&(s.textContent=l),v=p(w),u=o(w,"DIV",{class:!0});var A=m(u);d=o(A,"DIV",{class:!0,"data-svelte-h":!0}),C(d)!=="svelte-1869gqm"&&(d.textContent=y),x=p(A),_=o(A,"DIV",{class:!0,"data-svelte-h":!0}),C(_)!=="svelte-19acwd9"&&(_.textContent=V),A.forEach(f),w.forEach(f),this.h()},h:function(){a(s,"class","text-yellow-400 text-xl"),n(s,i,107,8,3767),a(d,"class","text-yellow-300 font-medium"),n(d,i,109,10,3855),a(_,"class","text-yellow-400/80"),n(_,i,110,10,3929),a(u,"class","text-sm"),n(u,i,108,8,3823),a(t,"class","mb-6 bg-yellow-900/30 border border-yellow-700 rounded-lg p-4 flex items-center gap-3"),n(t,i,106,6,3659)},m:function(h,w){yt(h,t,w),e(t,s),e(t,v),e(t,u),e(u,d),e(u,x),e(u,_)},d:function(h){h&&f(t)}};return xt("SvelteRegisterBlock",{block:S,id:Is.name,type:"if",source:"(99:4) {#if !$isLiveMode}",ctx:c}),S}function Ps(c){let t,s,l,v,u,d,y,x=c[10].name+"",_,V,S,E,h=c[10].version+"",w,A,W,q,b=c[10].nodes+"",T,ie,qt,P,Ct=c[10].status+"",bt,O;const me={c:function(){t=r("div"),s=r("div"),l=r("span"),u=g(),d=r("div"),y=r("p"),_=U(x),V=g(),S=r("p"),E=U("v"),w=U(h),A=g(),W=r("div"),q=r("p"),T=U(b),ie=U(" nodes"),qt=g(),P=r("p"),bt=U(Ct),O=g(),this.h()},l:function(k){t=o(k,"DIV",{class:!0});var z=m(t);s=o(z,"DIV",{class:!0});var Mt=m(s);l=o(Mt,"SPAN",{class:!0}),m(l).forEach(f),u=p(Mt),d=o(Mt,"DIV",{});var N=m(d);y=o(N,"P",{class:!0});var pe=m(y);_=K(pe,x),pe.forEach(f),V=p(N),S=o(N,"P",{class:!0});var Gt=m(S);E=K(Gt,"v"),w=K(Gt,h),Gt.forEach(f),N.forEach(f),Mt.forEach(f),A=p(z),W=o(z,"DIV",{class:!0});var H=m(W);q=o(H,"P",{class:!0});var le=m(q);T=K(le,b),ie=K(le," nodes"),le.forEach(f),qt=p(H),P=o(H,"P",{class:!0});var ce=m(P);bt=K(ce,Ct),ce.forEach(f),H.forEach(f),O=p(z),z.forEach(f),this.h()},h:function(){a(l,"class",v=`w-3 h-3 rounded-full ${Rs(c[10].status)}`),n(l,i,151,18,5774),a(y,"class","font-medium"),n(y,i,153,20,5894),a(S,"class","text-xs text-gray-400"),n(S,i,154,20,5953),n(d,i,152,18,5868),a(s,"class","flex items-center gap-3"),n(s,i,150,16,5718),a(q,"class","text-sm"),n(q,i,158,18,6113),a(P,"class","text-xs text-gray-400 capitalize"),n(P,i,159,18,6173),a(W,"class","text-right"),n(W,i,157,16,6070),a(t,"class","flex items-center justify-between p-3 bg-gray-700/50 rounded-lg"),n(t,i,149,14,5624)},m:function(k,z){yt(k,t,z),e(t,s),e(s,l),e(s,u),e(s,d),e(d,y),e(y,_),e(d,V),e(d,S),e(S,E),e(S,w),e(t,A),e(t,W),e(W,q),e(q,T),e(q,ie),e(W,qt),e(W,P),e(P,bt),e(t,O)},p:function(k,z){z&2&&v!==(v=`w-3 h-3 rounded-full ${Rs(k[10].status)}`)&&a(l,"class",v),z&2&&x!==(x=k[10].name+"")&&Z(_,x),z&2&&h!==(h=k[10].version+"")&&Z(w,h),z&2&&b!==(b=k[10].nodes+"")&&Z(T,b),z&2&&Ct!==(Ct=k[10].status+"")&&Z(bt,Ct)},d:function(k){k&&f(t)}};return xt("SvelteRegisterBlock",{block:me,id:Ps.name,type:"each",source:"(142:12) {#each happs as happ}",ctx:c}),me}function Va(c){let t,s=qe(c[0]),l=[];for(let u=0;u<s.length;u+=1)l[u]=Ls(_a(c,s,u));const v={c:function(){t=r("div");for(let d=0;d<l.length;d+=1)l[d].c();this.h()},l:function(d){t=o(d,"DIV",{class:!0});var y=m(t);for(let x=0;x<l.length;x+=1)l[x].l(y);y.forEach(f),this.h()},h:function(){a(t,"class","space-y-2"),n(t,i,192,12,7340)},m:function(d,y){yt(d,t,y);for(let x=0;x<l.length;x+=1)l[x]&&l[x].m(t,null)},p:function(d,y){if(y&1){s=qe(d[0]);let x;for(x=0;x<s.length;x+=1){const _=_a(d,s,x);l[x]?l[x].p(_,y):(l[x]=Ls(_),l[x].c(),l[x].m(t,null))}for(;x<l.length;x+=1)l[x].d(1);l.length=s.length}},d:function(d){d&&f(t),Ea(l,d)}};return xt("SvelteRegisterBlock",{block:v,id:Va.name,type:"else",source:"(185:10) {:else}",ctx:c}),v}function Ia(c){let t,s="No recent activity";const l={c:function(){t=r("p"),t.textContent=s,this.h()},l:function(u){t=o(u,"P",{class:!0,"data-svelte-h":!0}),C(t)!=="svelte-fpn1ww"&&(t.textContent=s),this.h()},h:function(){a(t,"class","text-gray-500 text-center py-8"),n(t,i,190,12,7245)},m:function(u,d){yt(u,t,d)},p:Vs,d:function(u){u&&f(t)}};return xt("SvelteRegisterBlock",{block:l,id:Ia.name,type:"if",source:"(183:10) {#if alerts.length === 0}",ctx:c}),l}function Ls(c){let t,s,l=c[7].time+"",v,u,d,y=c[7].message+"",x,_;const V={c:function(){t=r("div"),s=r("span"),v=U(l),u=g(),d=r("span"),x=U(y),_=g(),this.h()},l:function(E){t=o(E,"DIV",{class:!0});var h=m(t);s=o(h,"SPAN",{class:!0});var w=m(s);v=K(w,l),w.forEach(f),u=p(h),d=o(h,"SPAN",{class:!0});var A=m(d);x=K(A,y),A.forEach(f),_=p(h),h.forEach(f),this.h()},h:function(){a(s,"class","text-gray-400"),n(s,i,195,18,7485),a(d,"class","ml-2"),n(d,i,196,18,7551),a(t,"class","p-2 bg-gray-700/50 rounded text-sm"),n(t,i,194,16,7418)},m:function(E,h){yt(E,t,h),e(t,s),e(s,v),e(t,u),e(t,d),e(d,x),e(t,_)},p:function(E,h){h&1&&l!==(l=E[7].time+"")&&Z(v,l),h&1&&y!==(y=E[7].message+"")&&Z(x,y)},d:function(E){E&&f(t)}};return xt("SvelteRegisterBlock",{block:V,id:Ls.name,type:"each",source:"(187:14) {#each alerts as alert}",ctx:c}),V}function zs(c){let t,s,l,v,u,d,y,x="üçÑ",_,V,S="Mycelix Observatory",E,h,w,A,W="v0.1.0",q,b,T,ie="üè† Dashboard",qt,P,Ct="üèõÔ∏è MY GOV",bt,O,me="üå± Food",$,k,z="üíß Water",Mt,N,pe="üó≥Ô∏è Governance",Gt,H,le="ü™™ Identity",ce,tt,Ts="üõí Marketplace",Ye,et,Ns="üåê Network",Je,st,Hs="üìä Analytics",Xe,B,Me,F,at,_t,Bs="Active Nodes",Ze,Yt,ge=c[2].activeNodes+"",_e,$e,G,St,js="Byzantine Tolerance",ts,Et,ye=c[2].byzantineTolerance+"",Se,es,ss,Dt,Os="Exceeds 33% classical limit",as,nt,wt,Fs="Total Transactions",ns,Jt,xe=c[2].totalTransactions.toLocaleString()+"",Ee,os,ot,kt,Qs="Cross-hApp Queries",rs,Xt,Ce=c[2].crossHappQueries.toLocaleString()+"",De,is,Q,rt,Zt,At,Ks="hApp Status",ls,$t,Vt,cs,it,te,It,Us="Trust Distribution",ds,ee,se,Y,Pt,Ws="üìä",us,ae,qs="Trust heatmap visualization",hs,Lt,Gs="Connect to network to view",fs,lt,ne,zt,Ys="Recent Activity",vs,Rt,ms,ct,oe,Tt,Js="Byzantine Detection",ps,dt,ut,ht,Nt,Xs="100%",gs,Ht,Zs="Detection Rate",ys,ft,Bt,$s="2.3%",xs,jt,ta="False Positive Rate",Cs,vt,Ot,ea="‚úì No Byzantine nodes detected",bs,Ft,sa="Last check: just now",Ms,mt,re,aa="Mycelix Observatory ‚Ä¢ Holochain 0.6 ‚Ä¢ MATL v1.0",_s,Qt,na="34% Byzantine Fault Tolerance ‚Ä¢ Consciousness-First Computing";function oa(j,M){return j[3]?Aa:ka}let we=oa(c),pt=we(c),R=!c[3]&&Is(c),de=qe(c[1]),L=[];for(let j=0;j<de.length;j+=1)L[j]=Ps(Sa(c,de,j));function ra(j,M){return j[0].length===0?Ia:Va}let ke=ra(c),J=ke(c);const ia={c:function(){t=g(),s=r("div"),l=r("header"),v=r("div"),u=r("div"),d=r("div"),y=r("span"),y.textContent=x,_=g(),V=r("h1"),V.textContent=S,E=g(),h=r("div"),pt.c(),w=g(),A=r("span"),A.textContent=W,q=g(),b=r("nav"),T=r("a"),T.textContent=ie,qt=g(),P=r("a"),P.textContent=Ct,bt=g(),O=r("a"),O.textContent=me,$=g(),k=r("a"),k.textContent=z,Mt=g(),N=r("a"),N.textContent=pe,Gt=g(),H=r("a"),H.textContent=le,ce=g(),tt=r("a"),tt.textContent=Ts,Ye=g(),et=r("a"),et.textContent=Ns,Je=g(),st=r("a"),st.textContent=Hs,Xe=g(),B=r("main"),R&&R.c(),Me=g(),F=r("div"),at=r("div"),_t=r("h3"),_t.textContent=Bs,Ze=g(),Yt=r("p"),_e=U(ge),$e=g(),G=r("div"),St=r("h3"),St.textContent=js,ts=g(),Et=r("p"),Se=U(ye),es=U("%"),ss=g(),Dt=r("p"),Dt.textContent=Os,as=g(),nt=r("div"),wt=r("h3"),wt.textContent=Fs,ns=g(),Jt=r("p"),Ee=U(xe),os=g(),ot=r("div"),kt=r("h3"),kt.textContent=Qs,rs=g(),Xt=r("p"),De=U(Ce),is=g(),Q=r("div"),rt=r("div"),Zt=r("div"),At=r("h2"),At.textContent=Ks,ls=g(),$t=r("div"),Vt=r("div");for(let M=0;M<L.length;M+=1)L[M].c();cs=g(),it=r("div"),te=r("div"),It=r("h2"),It.textContent=Us,ds=g(),ee=r("div"),se=r("div"),Y=r("div"),Pt=r("p"),Pt.textContent=Ws,us=g(),ae=r("p"),ae.textContent=qs,hs=g(),Lt=r("p"),Lt.textContent=Gs,fs=g(),lt=r("div"),ne=r("div"),zt=r("h2"),zt.textContent=Ys,vs=g(),Rt=r("div"),J.c(),ms=g(),ct=r("div"),oe=r("div"),Tt=r("h2"),Tt.textContent=Js,ps=g(),dt=r("div"),ut=r("div"),ht=r("div"),Nt=r("p"),Nt.textContent=Xs,gs=g(),Ht=r("p"),Ht.textContent=Zs,ys=g(),ft=r("div"),Bt=r("p"),Bt.textContent=$s,xs=g(),jt=r("p"),jt.textContent=ta,Cs=g(),vt=r("div"),Ot=r("p"),Ot.textContent=ea,bs=g(),Ft=r("p"),Ft.textContent=sa,Ms=g(),mt=r("footer"),re=r("p"),re.textContent=aa,_s=g(),Qt=r("p"),Qt.textContent=na,this.h()},l:function(M){La("svelte-b7w5mi",document.head).forEach(f),t=p(M),s=o(M,"DIV",{class:!0});var D=m(s);l=o(D,"HEADER",{class:!0});var be=m(l);v=o(be,"DIV",{class:!0});var Ae=m(v);u=o(Ae,"DIV",{class:!0});var Ve=m(u);d=o(Ve,"DIV",{class:!0});var Ie=m(d);y=o(Ie,"SPAN",{class:!0,"data-svelte-h":!0}),C(y)!=="svelte-1dcmt7t"&&(y.textContent=x),_=p(Ie),V=o(Ie,"H1",{class:!0,"data-svelte-h":!0}),C(V)!=="svelte-1v0xdid"&&(V.textContent=S),Ie.forEach(f),E=p(Ve),h=o(Ve,"DIV",{class:!0});var Pe=m(h);pt.l(Pe),w=p(Pe),A=o(Pe,"SPAN",{class:!0,"data-svelte-h":!0}),C(A)!=="svelte-1iwcl3w"&&(A.textContent=W),Pe.forEach(f),Ve.forEach(f),q=p(Ae),b=o(Ae,"NAV",{class:!0});var I=m(b);T=o(I,"A",{href:!0,class:!0,"data-svelte-h":!0}),C(T)!=="svelte-kmbssx"&&(T.textContent=ie),qt=p(I),P=o(I,"A",{href:!0,class:!0,"data-svelte-h":!0}),C(P)!=="svelte-1p8q0yb"&&(P.textContent=Ct),bt=p(I),O=o(I,"A",{href:!0,class:!0,"data-svelte-h":!0}),C(O)!=="svelte-1hqvm3a"&&(O.textContent=me),$=p(I),k=o(I,"A",{href:!0,class:!0,"data-svelte-h":!0}),C(k)!=="svelte-s7r55x"&&(k.textContent=z),Mt=p(I),N=o(I,"A",{href:!0,class:!0,"data-svelte-h":!0}),C(N)!=="svelte-v5v288"&&(N.textContent=pe),Gt=p(I),H=o(I,"A",{href:!0,class:!0,"data-svelte-h":!0}),C(H)!=="svelte-1oxcntl"&&(H.textContent=le),ce=p(I),tt=o(I,"A",{href:!0,class:!0,"data-svelte-h":!0}),C(tt)!=="svelte-1mdftr8"&&(tt.textContent=Ts),Ye=p(I),et=o(I,"A",{href:!0,class:!0,"data-svelte-h":!0}),C(et)!=="svelte-1fgtcmt"&&(et.textContent=Ns),Je=p(I),st=o(I,"A",{href:!0,class:!0,"data-svelte-h":!0}),C(st)!=="svelte-6vwbhk"&&(st.textContent=Hs),I.forEach(f),Ae.forEach(f),be.forEach(f),Xe=p(D),B=o(D,"MAIN",{class:!0});var Kt=m(B);R&&R.l(Kt),Me=p(Kt),F=o(Kt,"DIV",{class:!0});var Ut=m(F);at=o(Ut,"DIV",{class:!0});var Le=m(at);_t=o(Le,"H3",{class:!0,"data-svelte-h":!0}),C(_t)!=="svelte-16jlyw2"&&(_t.textContent=Bs),Ze=p(Le),Yt=o(Le,"P",{class:!0});var la=m(Yt);_e=K(la,ge),la.forEach(f),Le.forEach(f),$e=p(Ut),G=o(Ut,"DIV",{class:!0});var ue=m(G);St=o(ue,"H3",{class:!0,"data-svelte-h":!0}),C(St)!=="svelte-3yzsyu"&&(St.textContent=js),ts=p(ue),Et=o(ue,"P",{class:!0});var Ss=m(Et);Se=K(Ss,ye),es=K(Ss,"%"),Ss.forEach(f),ss=p(ue),Dt=o(ue,"P",{class:!0,"data-svelte-h":!0}),C(Dt)!=="svelte-ei8ezc"&&(Dt.textContent=Os),ue.forEach(f),as=p(Ut),nt=o(Ut,"DIV",{class:!0});var ze=m(nt);wt=o(ze,"H3",{class:!0,"data-svelte-h":!0}),C(wt)!=="svelte-1a01kt6"&&(wt.textContent=Fs),ns=p(ze),Jt=o(ze,"P",{class:!0});var ca=m(Jt);Ee=K(ca,xe),ca.forEach(f),ze.forEach(f),os=p(Ut),ot=o(Ut,"DIV",{class:!0});var Re=m(ot);kt=o(Re,"H3",{class:!0,"data-svelte-h":!0}),C(kt)!=="svelte-1t21x1l"&&(kt.textContent=Qs),rs=p(Re),Xt=o(Re,"P",{class:!0});var da=m(Xt);De=K(da,Ce),da.forEach(f),Re.forEach(f),Ut.forEach(f),is=p(Kt),Q=o(Kt,"DIV",{class:!0});var Wt=m(Q);rt=o(Wt,"DIV",{class:!0});var Te=m(rt);Zt=o(Te,"DIV",{class:!0});var ua=m(Zt);At=o(ua,"H2",{class:!0,"data-svelte-h":!0}),C(At)!=="svelte-ftsh1y"&&(At.textContent=Ks),ua.forEach(f),ls=p(Te),$t=o(Te,"DIV",{class:!0});var ha=m($t);Vt=o(ha,"DIV",{class:!0});var fa=m(Vt);for(let Es=0;Es<L.length;Es+=1)L[Es].l(fa);fa.forEach(f),ha.forEach(f),Te.forEach(f),cs=p(Wt),it=o(Wt,"DIV",{class:!0});var Ne=m(it);te=o(Ne,"DIV",{class:!0});var va=m(te);It=o(va,"H2",{class:!0,"data-svelte-h":!0}),C(It)!=="svelte-1lerc2r"&&(It.textContent=Us),va.forEach(f),ds=p(Ne),ee=o(Ne,"DIV",{class:!0});var ma=m(ee);se=o(ma,"DIV",{class:!0});var pa=m(se);Y=o(pa,"DIV",{class:!0});var he=m(Y);Pt=o(he,"P",{class:!0,"data-svelte-h":!0}),C(Pt)!=="svelte-7toa3y"&&(Pt.textContent=Ws),us=p(he),ae=o(he,"P",{"data-svelte-h":!0}),C(ae)!=="svelte-j6htcu"&&(ae.textContent=qs),hs=p(he),Lt=o(he,"P",{class:!0,"data-svelte-h":!0}),C(Lt)!=="svelte-10rzbzm"&&(Lt.textContent=Gs),he.forEach(f),pa.forEach(f),ma.forEach(f),Ne.forEach(f),fs=p(Wt),lt=o(Wt,"DIV",{class:!0});var He=m(lt);ne=o(He,"DIV",{class:!0});var ga=m(ne);zt=o(ga,"H2",{class:!0,"data-svelte-h":!0}),C(zt)!=="svelte-v8e54r"&&(zt.textContent=Ys),ga.forEach(f),vs=p(He),Rt=o(He,"DIV",{class:!0});var ya=m(Rt);J.l(ya),ya.forEach(f),He.forEach(f),ms=p(Wt),ct=o(Wt,"DIV",{class:!0});var Be=m(ct);oe=o(Be,"DIV",{class:!0});var xa=m(oe);Tt=o(xa,"H2",{class:!0,"data-svelte-h":!0}),C(Tt)!=="svelte-o31g6a"&&(Tt.textContent=Js),xa.forEach(f),ps=p(Be),dt=o(Be,"DIV",{class:!0});var je=m(dt);ut=o(je,"DIV",{class:!0});var Oe=m(ut);ht=o(Oe,"DIV",{class:!0});var Fe=m(ht);Nt=o(Fe,"P",{class:!0,"data-svelte-h":!0}),C(Nt)!=="svelte-1dicz4v"&&(Nt.textContent=Xs),gs=p(Fe),Ht=o(Fe,"P",{class:!0,"data-svelte-h":!0}),C(Ht)!=="svelte-m0a69u"&&(Ht.textContent=Zs),Fe.forEach(f),ys=p(Oe),ft=o(Oe,"DIV",{class:!0});var Qe=m(ft);Bt=o(Qe,"P",{class:!0,"data-svelte-h":!0}),C(Bt)!=="svelte-10wyajq"&&(Bt.textContent=$s),xs=p(Qe),jt=o(Qe,"P",{class:!0,"data-svelte-h":!0}),C(jt)!=="svelte-19neetb"&&(jt.textContent=ta),Qe.forEach(f),Oe.forEach(f),Cs=p(je),vt=o(je,"DIV",{class:!0});var Ke=m(vt);Ot=o(Ke,"P",{class:!0,"data-svelte-h":!0}),C(Ot)!=="svelte-1vihf8p"&&(Ot.textContent=ea),bs=p(Ke),Ft=o(Ke,"P",{class:!0,"data-svelte-h":!0}),C(Ft)!=="svelte-1smjzcr"&&(Ft.textContent=sa),Ke.forEach(f),je.forEach(f),Be.forEach(f),Wt.forEach(f),Ms=p(Kt),mt=o(Kt,"FOOTER",{class:!0});var Ue=m(mt);re=o(Ue,"P",{"data-svelte-h":!0}),C(re)!=="svelte-clskrv"&&(re.textContent=aa),_s=p(Ue),Qt=o(Ue,"P",{class:!0,"data-svelte-h":!0}),C(Qt)!=="svelte-10u88vr"&&(Qt.textContent=na),Ue.forEach(f),Kt.forEach(f),D.forEach(f),this.h()},h:function(){document.title="Mycelix Observatory",a(y,"class","text-2xl"),n(y,i,58,10,1599),a(V,"class","text-xl font-bold"),n(V,i,59,10,1642),a(d,"class","flex items-center gap-3"),n(d,i,57,8,1551),a(A,"class","text-gray-400"),n(A,i,67,10,1951),a(h,"class","flex items-center gap-4"),n(h,i,61,8,1720),a(u,"class","flex justify-between items-center p-4"),n(u,i,56,6,1491),a(T,"href","/"),a(T,"class","px-4 py-2 rounded-lg bg-gray-700 text-white text-sm font-medium"),n(T,i,72,8,2112),a(P,"href","/mygov"),a(P,"class","px-4 py-2 rounded-lg hover:bg-gray-700 text-gray-300 text-sm font-medium transition-colors"),n(P,i,75,8,2241),a(O,"href","/food"),a(O,"class","px-4 py-2 rounded-lg hover:bg-gray-700 text-gray-300 text-sm font-medium transition-colors"),n(O,i,78,8,2400),a(k,"href","/water"),a(k,"class","px-4 py-2 rounded-lg hover:bg-gray-700 text-gray-300 text-sm font-medium transition-colors"),n(k,i,81,8,2555),a(N,"href","/governance"),a(N,"class","px-4 py-2 rounded-lg hover:bg-gray-700 text-gray-300 text-sm font-medium transition-colors"),n(N,i,84,8,2712),a(H,"href","/identity"),a(H,"class","px-4 py-2 rounded-lg hover:bg-gray-700 text-gray-300 text-sm font-medium transition-colors"),n(H,i,87,8,2880),a(tt,"href","/marketplace"),a(tt,"class","px-4 py-2 rounded-lg hover:bg-gray-700 text-gray-300 text-sm font-medium transition-colors"),n(tt,i,90,8,3043),a(et,"href","/network"),a(et,"class","px-4 py-2 rounded-lg hover:bg-gray-700 text-gray-300 text-sm font-medium transition-colors"),n(et,i,93,8,3212),a(st,"href","/analytics"),a(st,"class","px-4 py-2 rounded-lg hover:bg-gray-700 text-gray-300 text-sm font-medium transition-colors"),n(st,i,96,8,3373),a(b,"class","flex gap-1 px-4 pb-2 overflow-x-auto"),n(b,i,71,6,2053),a(v,"class","container mx-auto"),n(v,i,55,4,1453),a(l,"class","bg-gray-800 border-b border-gray-700"),n(l,i,54,2,1395),a(_t,"class","text-gray-400 text-sm uppercase"),n(_t,i,118,8,4227),a(Yt,"class","text-3xl font-bold mt-2"),n(Yt,i,119,8,4297),a(at,"class","bg-gray-800 rounded-lg p-6 border border-gray-700"),n(at,i,117,6,4155),a(St,"class","text-gray-400 text-sm uppercase"),n(St,i,123,8,4448),a(Et,"class","text-3xl font-bold mt-2 text-green-400"),n(Et,i,124,8,4525),a(Dt,"class","text-xs text-gray-500 mt-1"),n(Dt,i,125,8,4615),a(G,"class","bg-gray-800 rounded-lg p-6 border border-gray-700"),n(G,i,122,6,4376),a(wt,"class","text-gray-400 text-sm uppercase"),n(wt,i,129,8,4777),a(Jt,"class","text-3xl font-bold mt-2"),n(Jt,i,130,8,4853),a(nt,"class","bg-gray-800 rounded-lg p-6 border border-gray-700"),n(nt,i,128,6,4705),a(kt,"class","text-gray-400 text-sm uppercase"),n(kt,i,134,8,5027),a(Xt,"class","text-3xl font-bold mt-2"),n(Xt,i,135,8,5103),a(ot,"class","bg-gray-800 rounded-lg p-6 border border-gray-700"),n(ot,i,133,6,4955),a(F,"class","grid grid-cols-1 md:grid-cols-4 gap-4 mb-8"),n(F,i,116,4,4092),a(At,"class","text-lg font-semibold"),n(At,i,144,10,5450),a(Zt,"class","p-4 border-b border-gray-700"),n(Zt,i,143,8,5397),a(Vt,"class","space-y-3"),n(Vt,i,147,10,5552),a($t,"class","p-4"),n($t,i,146,8,5524),a(rt,"class","bg-gray-800 rounded-lg border border-gray-700"),n(rt,i,142,6,5329),a(It,"class","text-lg font-semibold"),n(It,i,170,10,6506),a(te,"class","p-4 border-b border-gray-700"),n(te,i,169,8,6453),a(Pt,"class","text-4xl mb-2"),n(Pt,i,175,14,6733),n(ae,i,176,14,6779),a(Lt,"class","text-sm"),n(Lt,i,177,14,6828),a(Y,"class","text-center"),n(Y,i,174,12,6693),a(se,"class","h-64 flex items-center justify-center text-gray-500"),n(se,i,173,10,6615),a(ee,"class","p-4"),n(ee,i,172,8,6587),a(it,"class","bg-gray-800 rounded-lg border border-gray-700"),n(it,i,168,6,6385),a(zt,"class","text-lg font-semibold"),n(zt,i,186,10,7101),a(ne,"class","p-4 border-b border-gray-700"),n(ne,i,185,8,7048),a(Rt,"class","p-4"),n(Rt,i,188,8,7179),a(lt,"class","bg-gray-800 rounded-lg border border-gray-700"),n(lt,i,184,6,6980),a(Tt,"class","text-lg font-semibold"),n(Tt,i,207,10,7864),a(oe,"class","p-4 border-b border-gray-700"),n(oe,i,206,8,7811),a(Nt,"class","text-3xl font-bold text-green-400"),n(Nt,i,212,14,8094),a(Ht,"class","text-sm text-gray-400"),n(Ht,i,213,14,8162),a(ht,"class","text-center p-4 bg-green-900/30 rounded-lg"),n(ht,i,211,12,8023),a(Bt,"class","text-3xl font-bold text-blue-400"),n(Bt,i,216,14,8315),a(jt,"class","text-sm text-gray-400"),n(jt,i,217,14,8382),a(ft,"class","text-center p-4 bg-blue-900/30 rounded-lg"),n(ft,i,215,12,8245),a(ut,"class","grid grid-cols-2 gap-4"),n(ut,i,210,10,7974),a(Ot,"class","text-green-400 font-medium"),n(Ot,i,221,12,8546),a(Ft,"class","text-xs text-gray-400 mt-1"),n(Ft,i,222,12,8630),a(vt,"class","mt-4 p-3 bg-gray-700/50 rounded-lg"),n(vt,i,220,10,8485),a(dt,"class","p-4"),n(dt,i,209,8,7946),a(ct,"class","bg-gray-800 rounded-lg border border-gray-700"),n(ct,i,205,6,7743),a(Q,"class","grid grid-cols-1 lg:grid-cols-2 gap-6"),n(Q,i,140,4,5244),n(re,i,230,6,8836),a(Qt,"class","mt-1"),n(Qt,i,231,6,8897),a(mt,"class","mt-8 text-center text-gray-500 text-sm"),n(mt,i,229,4,8774),a(B,"class","container mx-auto p-6"),n(B,i,104,2,3593),a(s,"class","min-h-screen bg-gray-900 text-white"),n(s,i,52,0,1325)},m:function(M,X){yt(M,t,X),yt(M,s,X),e(s,l),e(l,v),e(v,u),e(u,d),e(d,y),e(d,_),e(d,V),e(u,E),e(u,h),pt.m(h,null),e(h,w),e(h,A),e(v,q),e(v,b),e(b,T),e(b,qt),e(b,P),e(b,bt),e(b,O),e(b,$),e(b,k),e(b,Mt),e(b,N),e(b,Gt),e(b,H),e(b,ce),e(b,tt),e(b,Ye),e(b,et),e(b,Je),e(b,st),e(s,Xe),e(s,B),R&&R.m(B,null),e(B,Me),e(B,F),e(F,at),e(at,_t),e(at,Ze),e(at,Yt),e(Yt,_e),e(F,$e),e(F,G),e(G,St),e(G,ts),e(G,Et),e(Et,Se),e(Et,es),e(G,ss),e(G,Dt),e(F,as),e(F,nt),e(nt,wt),e(nt,ns),e(nt,Jt),e(Jt,Ee),e(F,os),e(F,ot),e(ot,kt),e(ot,rs),e(ot,Xt),e(Xt,De),e(B,is),e(B,Q),e(Q,rt),e(rt,Zt),e(Zt,At),e(rt,ls),e(rt,$t),e($t,Vt);for(let D=0;D<L.length;D+=1)L[D]&&L[D].m(Vt,null);e(Q,cs),e(Q,it),e(it,te),e(te,It),e(it,ds),e(it,ee),e(ee,se),e(se,Y),e(Y,Pt),e(Y,us),e(Y,ae),e(Y,hs),e(Y,Lt),e(Q,fs),e(Q,lt),e(lt,ne),e(ne,zt),e(lt,vs),e(lt,Rt),J.m(Rt,null),e(Q,ms),e(Q,ct),e(ct,oe),e(oe,Tt),e(ct,ps),e(ct,dt),e(dt,ut),e(ut,ht),e(ht,Nt),e(ht,gs),e(ht,Ht),e(ut,ys),e(ut,ft),e(ft,Bt),e(ft,xs),e(ft,jt),e(dt,Cs),e(dt,vt),e(vt,Ot),e(vt,bs),e(vt,Ft),e(B,Ms),e(B,mt),e(mt,re),e(mt,_s),e(mt,Qt)},p:function(M,[X]){if(we!==(we=oa(M))&&(pt.d(1),pt=we(M),pt&&(pt.c(),pt.m(h,w))),M[3]?R&&(R.d(1),R=null):R||(R=Is(M),R.c(),R.m(B,Me)),X&4&&ge!==(ge=M[2].activeNodes+"")&&Z(_e,ge),X&4&&ye!==(ye=M[2].byzantineTolerance+"")&&Z(Se,ye),X&4&&xe!==(xe=M[2].totalTransactions.toLocaleString()+"")&&Z(Ee,xe),X&4&&Ce!==(Ce=M[2].crossHappQueries.toLocaleString()+"")&&Z(De,Ce),X&2){de=qe(M[1]);let D;for(D=0;D<de.length;D+=1){const be=Sa(M,de,D);L[D]?L[D].p(be,X):(L[D]=Ps(be),L[D].c(),L[D].m(Vt,null))}for(;D<L.length;D+=1)L[D].d(1);L.length=de.length}ke===(ke=ra(M))&&J?J.p(M,X):(J.d(1),J=ke(M),J&&(J.c(),J.m(Rt,null)))},i:Vs,o:Vs,d:function(M){M&&(f(t),f(s)),pt.d(),R&&R.d(),Ea(L,M),J.d()}};return xt("SvelteRegisterBlock",{block:ia,id:zs.name,type:"component",source:"",ctx:c}),ia}function Rs(c){switch(c){case"active":return"bg-green-500";case"development":return"bg-yellow-500";case"alpha":return"bg-blue-500";default:return"bg-gray-500"}}function Ja(c,t,s){let l,v,u,d,y,x;Ds(fe,"byzantineAlerts"),ws(c,fe,h=>s(4,d=h)),Ds(gt,"ecosystemStatus"),ws(c,gt,h=>s(5,y=h)),Ds(We,"isLiveMode"),ws(c,We,h=>s(3,x=h));let{$$slots:_={},$$scope:V}=t;Na("Page",_,[]);let S=null;Ca(async()=>{console.log("Observatory mounted - initializing stores"),S=await Ma()}),ba(()=>{S&&S()});const E=[];return Object.keys(t).forEach(h=>{!~E.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&Ya.warn(`<Page> was created with unknown prop '${h}'`)}),c.$capture_state=()=>({onMount:Ca,onDestroy:ba,initializeStores:Ma,ecosystemStatus:gt,byzantineAlerts:fe,isLiveMode:We,cleanup:S,getStatusColor:Rs,alerts:u,happs:v,stats:l,$byzantineAlerts:d,$ecosystemStatus:y,$isLiveMode:x}),c.$inject_state=h=>{"cleanup"in h&&(S=h.cleanup),"alerts"in h&&s(0,u=h.alerts),"happs"in h&&s(1,v=h.happs),"stats"in h&&s(2,l=h.stats)},t&&"$$inject"in t&&c.$inject_state(t.$$inject),c.$$.update=()=>{c.$$.dirty&32&&s(2,l={activeNodes:y.totalNodes,byzantineTolerance:y.byzantineTolerance,totalTransactions:y.happs.reduce((h,w)=>h+w.metrics.totalTransactions,0),crossHappQueries:y.crossHappQueries}),c.$$.dirty&32&&s(1,v=y.happs.slice(0,4).map(h=>({name:h.name,status:h.status==="healthy"?"active":h.status==="degraded"?"development":"alpha",version:h.version,nodes:h.nodeCount}))),c.$$.dirty&16&&s(0,u=d.slice(0,5).map(h=>({type:h.severity,message:h.message,time:new Date(h.timestamp).toLocaleTimeString()})))},[u,v,l,x,d,y]}class sn extends Ra{constructor(t){super(t),Ta(this,t,Ja,zs,Pa,{}),xt("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:zs.name})}}export{sn as component};
