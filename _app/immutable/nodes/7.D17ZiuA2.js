import{s as Ut,n as Je,e as It,x as Ft,a0 as Ge,f as a,k as f,l as g,p as O,j as y,m as z,r as d,t as U,q as w,a1 as il,h as qt,a2 as rl,y as Xe,G as Ot,a3 as $l,a4 as Le,a5 as We,o as cl,i as en,B as ul}from"../chunks/BYLBfqqe.js";import{S as Qt,i as Xt,d as ae,e as Ke,v as Yt,b as v,s as me,c as n,p as Il,f as ve,g as s,l as Ue,r as fl,t as yt,a as vt,k as is,j as rs,u as tn,m as cs,o as us,q as fs,n as ds,w as sn}from"../chunks/CZ_bGV5W.js";import{g as Vl}from"../chunks/D0QH3NT1.js";const we="src/lib/components/epistemic-markets/MarketCard.svelte";function dl(l,e,t){const o=l.slice();return o[7]=e[t],o[9]=t,o}function Cs(l){let e,t,o=l[7].name+"",c,i,r,u,p,k,m=Ps(l[7].probability)+"",_,h;const b={c:function(){e=d("div"),t=d("span"),c=U(o),i=w(),r=d("div"),u=d("div"),p=w(),k=d("span"),_=U(m),h=w(),this.h()},l:function(S){e=f(S,"DIV",{class:!0});var V=g(e);t=f(V,"SPAN",{class:!0});var P=g(t);c=O(P,o),P.forEach(v),i=y(V),r=f(V,"DIV",{class:!0});var T=g(r);u=f(T,"DIV",{class:!0,style:!0}),g(u).forEach(v),p=y(T),k=f(T,"SPAN",{class:!0});var E=g(k);_=O(E,m),E.forEach(v),T.forEach(v),h=y(V),V.forEach(v),this.h()},h:function(){n(t,"class","outcome-label svelte-1vogkp6"),a(t,we,83,8,2155),n(u,"class","probability-fill svelte-1vogkp6"),qt(u,"width",l[7].probability*100+"%"),a(u,we,85,10,2253),n(k,"class","probability-value svelte-1vogkp6"),a(k,we,89,10,2379),n(r,"class","probability-bar svelte-1vogkp6"),a(r,we,84,8,2213),n(e,"class","outcome-bar svelte-1vogkp6"),a(e,we,82,6,2121)},m:function(S,V){ve(S,e,V),s(e,t),s(t,c),s(e,i),s(e,r),s(r,u),s(r,p),s(r,k),s(k,_),s(e,h)},p:function(S,V){V&1&&o!==(o=S[7].name+"")&&me(c,o),V&1&&qt(u,"width",S[7].probability*100+"%"),V&1&&m!==(m=Ps(S[7].probability)+"")&&me(_,m)},d:function(S){S&&v(e)}};return ae("SvelteRegisterBlock",{block:b,id:Cs.name,type:"each",source:"(78:4) {#each market.outcomes as outcome, i}",ctx:l}),b}function Es(l){let e,t,o="Epistemic Classification",c,i,r,u,p="Empirical",k,m,_=l[0].epistemic_position.empirical+"",h,b,C,S,V,P,T="Normative",E,D,I=l[0].epistemic_position.normative+"",A,H,B,M,N,j,W="Materiality",R,x,X=l[0].epistemic_position.materiality+"",G,$,Z;function ye(le,se){return le[0].epistemic_position.empirical==="measurable"?Bl:le[0].epistemic_position.empirical==="testimonial"?Al:jl}let De=ye(l),Y=De(l);function K(le,se){return le[0].epistemic_position.normative==="universal"?Ml:le[0].epistemic_position.normative==="communal"?Nl:ql}let _e=K(l),J=_e(l);function te(le,se){return le[0].epistemic_position.materiality==="foundational"?Ll:le[0].epistemic_position.materiality==="persistent"?Tl:Rl}let je=te(l),Be=je(l);const ue={c:function(){e=d("div"),t=d("h4"),t.textContent=o,c=w(),i=d("div"),r=d("div"),u=d("span"),u.textContent=p,k=w(),m=d("span"),h=U(_),b=w(),C=d("div"),Y.c(),S=w(),V=d("div"),P=d("span"),P.textContent=T,E=w(),D=d("span"),A=U(I),H=w(),B=d("div"),J.c(),M=w(),N=d("div"),j=d("span"),j.textContent=W,R=w(),x=d("span"),G=U(X),$=w(),Z=d("div"),Be.c(),this.h()},l:function(se){e=f(se,"DIV",{class:!0});var re=g(e);t=f(re,"H4",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-il3jv5"&&(t.textContent=o),c=y(re),i=f(re,"DIV",{class:!0});var q=g(i);r=f(q,"DIV",{class:!0});var Me=g(r);u=f(Me,"SPAN",{class:!0,"data-svelte-h":!0}),z(u)!=="svelte-zlefb"&&(u.textContent=p),k=y(Me),m=f(Me,"SPAN",{class:!0});var Ie=g(m);h=O(Ie,_),Ie.forEach(v),b=y(Me),C=f(Me,"DIV",{class:!0});var Ee=g(C);Y.l(Ee),Ee.forEach(v),Me.forEach(v),S=y(q),V=f(q,"DIV",{class:!0});var ce=g(V);P=f(ce,"SPAN",{class:!0,"data-svelte-h":!0}),z(P)!=="svelte-1kqg9b8"&&(P.textContent=T),E=y(ce),D=f(ce,"SPAN",{class:!0});var pe=g(D);A=O(pe,I),pe.forEach(v),H=y(ce),B=f(ce,"DIV",{class:!0});var Re=g(B);J.l(Re),Re.forEach(v),ce.forEach(v),M=y(q),N=f(q,"DIV",{class:!0});var He=g(N);j=f(He,"SPAN",{class:!0,"data-svelte-h":!0}),z(j)!=="svelte-x3vwqk"&&(j.textContent=W),R=y(He),x=f(He,"SPAN",{class:!0});var xe=g(x);G=O(xe,X),xe.forEach(v),$=y(He),Z=f(He,"DIV",{class:!0});var Te=g(Z);Be.l(Te),Te.forEach(v),He.forEach(v),q.forEach(v),re.forEach(v),this.h()},h:function(){n(t,"class","svelte-1vogkp6"),a(t,we,118,6,3293),n(u,"class","axis-label svelte-1vogkp6"),a(u,we,121,10,3397),n(m,"class","axis-value svelte-1vogkp6"),a(m,we,122,10,3449),n(C,"class","axis-description svelte-1vogkp6"),a(C,we,123,10,3529),n(r,"class","enm-axis svelte-1vogkp6"),a(r,we,120,8,3364),n(P,"class","axis-label svelte-1vogkp6"),a(P,we,134,10,3967),n(D,"class","axis-value svelte-1vogkp6"),a(D,we,135,10,4019),n(B,"class","axis-description svelte-1vogkp6"),a(B,we,136,10,4099),n(V,"class","enm-axis svelte-1vogkp6"),a(V,we,133,8,3934),n(j,"class","axis-label svelte-1vogkp6"),a(j,we,147,10,4501),n(x,"class","axis-value svelte-1vogkp6"),a(x,we,148,10,4555),n(Z,"class","axis-description svelte-1vogkp6"),a(Z,we,149,10,4637),n(N,"class","enm-axis svelte-1vogkp6"),a(N,we,146,8,4468),n(i,"class","enm-grid svelte-1vogkp6"),a(i,we,119,6,3333),n(e,"class","epistemic-details svelte-1vogkp6"),a(e,we,117,4,3255)},m:function(se,re){ve(se,e,re),s(e,t),s(e,c),s(e,i),s(i,r),s(r,u),s(r,k),s(r,m),s(m,h),s(r,b),s(r,C),Y.m(C,null),s(i,S),s(i,V),s(V,P),s(V,E),s(V,D),s(D,A),s(V,H),s(V,B),J.m(B,null),s(i,M),s(i,N),s(N,j),s(N,R),s(N,x),s(x,G),s(N,$),s(N,Z),Be.m(Z,null)},p:function(se,re){re&1&&_!==(_=se[0].epistemic_position.empirical+"")&&me(h,_),De!==(De=ye(se))&&(Y.d(1),Y=De(se),Y&&(Y.c(),Y.m(C,null))),re&1&&I!==(I=se[0].epistemic_position.normative+"")&&me(A,I),_e!==(_e=K(se))&&(J.d(1),J=_e(se),J&&(J.c(),J.m(B,null))),re&1&&X!==(X=se[0].epistemic_position.materiality+"")&&me(G,X),je!==(je=te(se))&&(Be.d(1),Be=je(se),Be&&(Be.c(),Be.m(Z,null)))},d:function(se){se&&v(e),Y.d(),J.d(),Be.d()}};return ae("SvelteRegisterBlock",{block:ue,id:Es.name,type:"if",source:"(113:2) {#if showDetails}",ctx:l}),ue}function jl(l){let e;const t={c:function(){e=U("Resolution via subjective assessment")},l:function(c){e=O(c,"Resolution via subjective assessment")},m:function(c,i){ve(c,e,i)},d:function(c){c&&v(e)}};return ae("SvelteRegisterBlock",{block:t,id:jl.name,type:"else",source:"(125:12) {:else}",ctx:l}),t}function Al(l){let e;const t={c:function(){e=U("Resolution via witness accounts")},l:function(c){e=O(c,"Resolution via witness accounts")},m:function(c,i){ve(c,e,i)},d:function(c){c&&v(e)}};return ae("SvelteRegisterBlock",{block:t,id:Al.name,type:"if",source:"(123:76) ",ctx:l}),t}function Bl(l){let e;const t={c:function(){e=U("Resolution via objective measurement")},l:function(c){e=O(c,"Resolution via objective measurement")},m:function(c,i){ve(c,e,i)},d:function(c){c&&v(e)}};return ae("SvelteRegisterBlock",{block:t,id:Bl.name,type:"if",source:"(121:12) {#if market.epistemic_position.empirical === 'measurable'}",ctx:l}),t}function ql(l){let e;const t={c:function(){e=U("Personal perspective")},l:function(c){e=O(c,"Personal perspective")},m:function(c,i){ve(c,e,i)},d:function(c){c&&v(e)}};return ae("SvelteRegisterBlock",{block:t,id:ql.name,type:"else",source:"(138:12) {:else}",ctx:l}),t}function Nl(l){let e;const t={c:function(){e=U("Community-specific truth")},l:function(c){e=O(c,"Community-specific truth")},m:function(c,i){ve(c,e,i)},d:function(c){c&&v(e)}};return ae("SvelteRegisterBlock",{block:t,id:Nl.name,type:"if",source:"(136:73) ",ctx:l}),t}function Ml(l){let e;const t={c:function(){e=U("Applies to everyone equally")},l:function(c){e=O(c,"Applies to everyone equally")},m:function(c,i){ve(c,e,i)},d:function(c){c&&v(e)}};return ae("SvelteRegisterBlock",{block:t,id:Ml.name,type:"if",source:"(134:12) {#if market.epistemic_position.normative === 'universal'}",ctx:l}),t}function Rl(l){let e;const t={c:function(){e=U("Short-term concern")},l:function(c){e=O(c,"Short-term concern")},m:function(c,i){ve(c,e,i)},d:function(c){c&&v(e)}};return ae("SvelteRegisterBlock",{block:t,id:Rl.name,type:"else",source:"(151:12) {:else}",ctx:l}),t}function Tl(l){let e;const t={c:function(){e=U("Long-term relevance")},l:function(c){e=O(c,"Long-term relevance")},m:function(c,i){ve(c,e,i)},d:function(c){c&&v(e)}};return ae("SvelteRegisterBlock",{block:t,id:Tl.name,type:"if",source:"(149:77) ",ctx:l}),t}function Ll(l){let e;const t={c:function(){e=U("Permanent, enduring significance")},l:function(c){e=O(c,"Permanent, enduring significance")},m:function(c,i){ve(c,e,i)},d:function(c){c&&v(e)}};return ae("SvelteRegisterBlock",{block:t,id:Ll.name,type:"if",source:"(147:12) {#if market.epistemic_position.materiality === 'foundational'}",ctx:l}),t}function Ds(l){let e,t,o,c=l[2].label+"",i,r,u,p,k=l[0].status+"",m,_,h,b,C=l[0].title+"",S,V,P,T,E,D,I,A="Type",H,B,M,N,j,W,R="Volume",x,X,G=l[0].total_volume.toLocaleString()+"",$,Z,ye,De,Y,K="Predictions",_e,J,te=l[0].prediction_count+"",je,Be,ue,le,se="Time",re,q,Me=Ss(l[0].closes_at)+"",Ie,Ee,ce,pe,Re,He,xe,Te,ze,qe="Details",Ve,de,ie=Ke(l[0].outcomes),fe=[];for(let Se=0;Se<ie.length;Se+=1)fe[Se]=Cs(dl(l,ie,Se));let ke=l[1]&&Es(l);const Ne={c:function(){e=d("div"),t=d("div"),o=d("div"),i=U(c),u=w(),p=d("div"),m=U(k),h=w(),b=d("h3"),S=U(C),V=w(),P=d("div");for(let Ce=0;Ce<fe.length;Ce+=1)fe[Ce].c();T=w(),E=d("div"),D=d("div"),I=d("span"),I.textContent=A,H=w(),B=d("span"),M=U(l[3]),N=w(),j=d("div"),W=d("span"),W.textContent=R,x=w(),X=d("span"),$=U(G),Z=U(" HAM"),ye=w(),De=d("div"),Y=d("span"),Y.textContent=K,_e=w(),J=d("span"),je=U(te),Be=w(),ue=d("div"),le=d("span"),le.textContent=se,re=w(),q=d("span"),Ie=U(Me),Ee=w(),ke&&ke.c(),ce=w(),pe=d("div"),Re=d("button"),He=U("Predict"),Te=w(),ze=d("button"),ze.textContent=qe,this.h()},l:function(Ce){e=f(Ce,"DIV",{class:!0,role:!0,tabindex:!0});var ge=g(e);t=f(ge,"DIV",{class:!0});var F=g(t);o=f(F,"DIV",{class:!0});var ne=g(o);i=O(ne,c),ne.forEach(v),u=y(F),p=f(F,"DIV",{class:!0});var Fe=g(p);m=O(Fe,k),Fe.forEach(v),F.forEach(v),h=y(ge),b=f(ge,"H3",{class:!0});var nt=g(b);S=O(nt,C),nt.forEach(v),V=y(ge),P=f(ge,"DIV",{class:!0});var Qe=g(P);for(let $e=0;$e<fe.length;$e+=1)fe[$e].l(Qe);Qe.forEach(v),T=y(ge),E=f(ge,"DIV",{class:!0});var Ae=g(E);D=f(Ae,"DIV",{class:!0});var ct=g(D);I=f(ct,"SPAN",{class:!0,"data-svelte-h":!0}),z(I)!=="svelte-1cbzg7z"&&(I.textContent=A),H=y(ct),B=f(ct,"SPAN",{class:!0});var ut=g(B);M=O(ut,l[3]),ut.forEach(v),ct.forEach(v),N=y(Ae),j=f(Ae,"DIV",{class:!0});var Oe=g(j);W=f(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),z(W)!=="svelte-1lv6ck1"&&(W.textContent=R),x=y(Oe),X=f(Oe,"SPAN",{class:!0});var it=g(X);$=O(it,G),Z=O(it," HAM"),it.forEach(v),Oe.forEach(v),ye=y(Ae),De=f(Ae,"DIV",{class:!0});var ft=g(De);Y=f(ft,"SPAN",{class:!0,"data-svelte-h":!0}),z(Y)!=="svelte-1ouxn3h"&&(Y.textContent=K),_e=y(ft),J=f(ft,"SPAN",{class:!0});var ht=g(J);je=O(ht,te),ht.forEach(v),ft.forEach(v),Be=y(Ae),ue=f(Ae,"DIV",{class:!0});var Ze=g(ue);le=f(Ze,"SPAN",{class:!0,"data-svelte-h":!0}),z(le)!=="svelte-j49idg"&&(le.textContent=se),re=y(Ze),q=f(Ze,"SPAN",{class:!0});var Dt=g(q);Ie=O(Dt,Me),Dt.forEach(v),Ze.forEach(v),Ae.forEach(v),Ee=y(ge),ke&&ke.l(ge),ce=y(ge),pe=f(ge,"DIV",{class:!0});var mt=g(pe);Re=f(mt,"BUTTON",{class:!0});var et=g(Re);He=O(et,"Predict"),et.forEach(v),Te=y(mt),ze=f(mt,"BUTTON",{class:!0,"data-svelte-h":!0}),z(ze)!=="svelte-1y8lhjg"&&(ze.textContent=qe),mt.forEach(v),ge.forEach(v),this.h()},h:function(){n(o,"class",r="epistemic-badge "+l[2].color+" svelte-1vogkp6"),a(o,we,68,4,1764),n(p,"class",_="market-status "+l[4]+" svelte-1vogkp6"),a(p,we,71,4,1861),n(t,"class","market-header svelte-1vogkp6"),a(t,we,67,2,1732),n(b,"class","market-title svelte-1vogkp6"),a(b,we,77,2,1965),n(P,"class","market-probabilities svelte-1vogkp6"),a(P,we,80,2,2038),n(I,"class","meta-label svelte-1vogkp6"),a(I,we,98,6,2591),n(B,"class","meta-value svelte-1vogkp6"),a(B,we,99,6,2634),n(D,"class","meta-item svelte-1vogkp6"),a(D,we,97,4,2561),n(W,"class","meta-label svelte-1vogkp6"),a(W,we,102,6,2728),n(X,"class","meta-value svelte-1vogkp6"),a(X,we,103,6,2773),n(j,"class","meta-item svelte-1vogkp6"),a(j,we,101,4,2698),n(Y,"class","meta-label svelte-1vogkp6"),a(Y,we,106,6,2893),n(J,"class","meta-value svelte-1vogkp6"),a(J,we,107,6,2943),n(De,"class","meta-item svelte-1vogkp6"),a(De,we,105,4,2863),n(le,"class","meta-label svelte-1vogkp6"),a(le,we,110,6,3046),n(q,"class","meta-value svelte-1vogkp6"),a(q,we,111,6,3089),n(ue,"class","meta-item svelte-1vogkp6"),a(ue,we,109,4,3016),n(E,"class","market-meta svelte-1vogkp6"),a(E,we,96,2,2531),n(Re,"class","action-btn primary svelte-1vogkp6"),Re.disabled=xe=l[0].status!=="open",a(Re,we,165,4,5099),n(ze,"class","action-btn secondary svelte-1vogkp6"),a(ze,we,168,4,5203),n(pe,"class","market-actions svelte-1vogkp6"),a(pe,we,164,2,5066),n(e,"class","market-card svelte-1vogkp6"),n(e,"role","button"),n(e,"tabindex","0"),Ge(e,"expanded",l[1]),a(e,we,58,0,1596)},m:function(Ce,ge){ve(Ce,e,ge),s(e,t),s(t,o),s(o,i),s(t,u),s(t,p),s(p,m),s(e,h),s(e,b),s(b,S),s(e,V),s(e,P);for(let F=0;F<fe.length;F+=1)fe[F]&&fe[F].m(P,null);s(e,T),s(e,E),s(E,D),s(D,I),s(D,H),s(D,B),s(B,M),s(E,N),s(E,j),s(j,W),s(j,x),s(j,X),s(X,$),s(X,Z),s(E,ye),s(E,De),s(De,Y),s(De,_e),s(De,J),s(J,je),s(E,Be),s(E,ue),s(ue,le),s(ue,re),s(ue,q),s(q,Ie),s(e,Ee),ke&&ke.m(e,null),s(e,ce),s(e,pe),s(pe,Re),s(Re,He),s(pe,Te),s(pe,ze),Ve||(de=[Ue(e,"click",l[5],!1,!1,!1,!1),Ue(e,"keypress",l[6],!1,!1,!1,!1)],Ve=!0)},p:function(Ce,[ge]){if(ge&4&&c!==(c=Ce[2].label+"")&&me(i,c),ge&4&&r!==(r="epistemic-badge "+Ce[2].color+" svelte-1vogkp6")&&n(o,"class",r),ge&1&&k!==(k=Ce[0].status+"")&&me(m,k),ge&16&&_!==(_="market-status "+Ce[4]+" svelte-1vogkp6")&&n(p,"class",_),ge&1&&C!==(C=Ce[0].title+"")&&me(S,C),ge&1){ie=Ke(Ce[0].outcomes);let F;for(F=0;F<ie.length;F+=1){const ne=dl(Ce,ie,F);fe[F]?fe[F].p(ne,ge):(fe[F]=Cs(ne),fe[F].c(),fe[F].m(P,null))}for(;F<fe.length;F+=1)fe[F].d(1);fe.length=ie.length}ge&8&&me(M,Ce[3]),ge&1&&G!==(G=Ce[0].total_volume.toLocaleString()+"")&&me($,G),ge&1&&te!==(te=Ce[0].prediction_count+"")&&me(je,te),ge&1&&Me!==(Me=Ss(Ce[0].closes_at)+"")&&me(Ie,Me),Ce[1]?ke?ke.p(Ce,ge):(ke=Es(Ce),ke.c(),ke.m(e,ce)):ke&&(ke.d(1),ke=null),ge&1&&xe!==(xe=Ce[0].status!=="open")&&Il(Re,"disabled",xe),ge&2&&Ge(e,"expanded",Ce[1])},i:Je,o:Je,d:function(Ce){Ce&&v(e),It(fe,Ce),ke&&ke.d(),Ve=!1,Ft(de)}};return ae("SvelteRegisterBlock",{block:Ne,id:Ds.name,type:"component",source:"",ctx:l}),Ne}function vl(l){switch(l){case"open":return"emerald";case"closed":return"amber";case"resolved":return"blue";case"disputed":return"red";default:return"gray"}}function hl(l){switch(l.type){case"Binary":return"Yes/No";case"LMSR":return"Continuous";case"CDA":return"Auction";case"Parimutuel":return"Pool";default:return"Unknown"}}function ml(l){const t=["subjective","testimonial","private_verify","cryptographic","measurable"].indexOf(l.empirical);return t>=3?{label:"High Verifiability",color:"emerald"}:t>=1?{label:"Moderate Verifiability",color:"amber"}:{label:"Subjective",color:"purple"}}function Ss(l){const e=l-Date.now();if(e<0)return"Closed";const t=Math.floor(e/864e5),o=Math.floor(e%864e5/36e5);return t>0?`${t}d ${o}h`:o>0?`${o}h`:"Closing soon"}function Ps(l){return`${Math.round(l*100)}%`}function ln(l,e,t){let o,c,i,{$$slots:r={},$$scope:u}=e;Yt("MarketCard",r,[]);let{market:p}=e,{showDetails:k=!1}=e;l.$$.on_mount.push(function(){p===void 0&&!("market"in e||l.$$.bound[l.$$.props.market])&&console.warn("<MarketCard> was created without expected prop 'market'")});const m=["market","showDetails"];Object.keys(e).forEach(b=>{!~m.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&console.warn(`<MarketCard> was created with unknown prop '${b}'`)});function _(b){il.call(this,l,b)}function h(b){il.call(this,l,b)}return l.$$set=b=>{"market"in b&&t(0,p=b.market),"showDetails"in b&&t(1,k=b.showDetails)},l.$capture_state=()=>({market:p,showDetails:k,getStatusColor:vl,getMechanismLabel:hl,getEpistemicBadge:ml,formatTimeRemaining:Ss,formatProbability:Ps,epistemicBadge:i,mechanismLabel:c,statusColor:o}),l.$inject_state=b=>{"market"in b&&t(0,p=b.market),"showDetails"in b&&t(1,k=b.showDetails),"epistemicBadge"in b&&t(2,i=b.epistemicBadge),"mechanismLabel"in b&&t(3,c=b.mechanismLabel),"statusColor"in b&&t(4,o=b.statusColor)},e&&"$$inject"in e&&l.$inject_state(e.$$inject),l.$$.update=()=>{l.$$.dirty&1&&t(4,o=vl(p.status)),l.$$.dirty&1&&t(3,c=hl(p.mechanism)),l.$$.dirty&1&&t(2,i=ml(p.epistemic_position))},[p,k,i,c,o,_,h]}class Wl extends Qt{constructor(e){super(e),Xt(this,e,ln,Ds,Ut,{market:0,showDetails:1}),ae("SvelteRegisterComponent",{component:this,tagName:"MarketCard",options:e,id:Ds.name})}get market(){throw new Error("<MarketCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set market(e){throw new Error("<MarketCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get showDetails(){throw new Error("<MarketCard>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set showDetails(e){throw new Error("<MarketCard>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Q="src/lib/components/epistemic-markets/PredictionForm.svelte";function _l(l,e,t){const o=l.slice();return o[41]=e[t],o[42]=e,o[43]=t,o}function pl(l,e,t){const o=l.slice();return o[44]=e[t],o[45]=e,o[43]=t,o}function kl(l,e,t){const o=l.slice();return o[46]=e[t],o[47]=e,o[43]=t,o}function gl(l,e,t){const o=l.slice();return o[48]=e[t],o}function bl(l,e,t){const o=l.slice();return o[51]=e[t],o[43]=t,o}function Is(l){let e,t,o,c,i,r,u,p,k="Sacred Pause",m,_,h=`You're about to make a high-stakes prediction. Before committing,
        take a moment to reflect on these questions.`,b,C,S,V,P,T="I have reflected. Continue.",E,D,I="Let me revise my prediction.",A,H,B=Ke(l[22]),M=[];for(let j=0;j<B.length;j+=1)M[j]=Vs(bl(l,B,j));const N={c:function(){e=d("div"),t=d("div"),o=d("div"),c=We("svg"),i=We("circle"),r=We("path"),u=w(),p=d("h2"),p.textContent=k,m=w(),_=d("p"),_.textContent=h,b=w(),C=d("div");for(let W=0;W<M.length;W+=1)M[W].c();S=w(),V=d("div"),P=d("button"),P.textContent=T,E=w(),D=d("button"),D.textContent=I,this.h()},l:function(W){e=f(W,"DIV",{class:!0});var R=g(e);t=f(R,"DIV",{class:!0});var x=g(t);o=f(x,"DIV",{class:!0});var X=g(o);c=Le(X,"svg",{viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var G=g(c);i=Le(G,"circle",{cx:!0,cy:!0,r:!0}),g(i).forEach(v),r=Le(G,"path",{d:!0}),g(r).forEach(v),G.forEach(v),X.forEach(v),u=y(x),p=f(x,"H2",{class:!0,"data-svelte-h":!0}),z(p)!=="svelte-1p8rbas"&&(p.textContent=k),m=y(x),_=f(x,"P",{class:!0,"data-svelte-h":!0}),z(_)!=="svelte-bhhf84"&&(_.textContent=h),b=y(x),C=f(x,"DIV",{class:!0});var $=g(C);for(let ye=0;ye<M.length;ye+=1)M[ye].l($);$.forEach(v),S=y(x),V=f(x,"DIV",{class:!0});var Z=g(V);P=f(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),z(P)!=="svelte-z727sg"&&(P.textContent=T),E=y(Z),D=f(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),z(D)!=="svelte-fulc0f"&&(D.textContent=I),Z.forEach(v),x.forEach(v),R.forEach(v),this.h()},h:function(){n(i,"cx","12"),n(i,"cy","12"),n(i,"r","10"),a(i,Q,144,10,3374),n(r,"d","M12 6v6l4 2"),a(r,Q,145,10,3418),n(c,"viewBox","0 0 24 24"),n(c,"fill","none"),n(c,"stroke","currentColor"),n(c,"stroke-width","2"),a(c,Q,143,8,3287),n(o,"class","sacred-icon svelte-uoqh9j"),a(o,Q,142,6,3253),n(p,"class","svelte-uoqh9j"),a(p,Q,149,6,3478),n(_,"class","sacred-intro svelte-uoqh9j"),a(_,Q,151,6,3507),n(C,"class","reflection-prompts svelte-uoqh9j"),a(C,Q,156,6,3677),n(P,"class","pause-btn continue svelte-uoqh9j"),a(P,Q,166,8,3997),n(D,"class","pause-btn revise svelte-uoqh9j"),a(D,Q,169,8,4128),n(V,"class","sacred-actions svelte-uoqh9j"),a(V,Q,165,6,3960),n(t,"class","sacred-pause-modal svelte-uoqh9j"),a(t,Q,141,4,3214),n(e,"class","sacred-pause-overlay svelte-uoqh9j"),a(e,Q,140,2,3175)},m:function(W,R){ve(W,e,R),s(e,t),s(t,o),s(o,c),s(c,i),s(c,r),s(t,u),s(t,p),s(t,m),s(t,_),s(t,b),s(t,C);for(let x=0;x<M.length;x+=1)M[x]&&M[x].m(C,null);s(t,S),s(t,V),s(V,P),s(V,E),s(V,D),A||(H=[Ue(P,"click",l[18],!1,!1,!1,!1),Ue(D,"click",l[23],!1,!1,!1,!1)],A=!0)},p:function(W,R){if(R[0]&4194304){B=Ke(W[22]);let x;for(x=0;x<B.length;x+=1){const X=bl(W,B,x);M[x]?M[x].p(X,R):(M[x]=Vs(X),M[x].c(),M[x].m(C,null))}for(;x<M.length;x+=1)M[x].d(1);M.length=B.length}},d:function(W){W&&v(e),It(M,W),A=!1,Ft(H)}};return ae("SvelteRegisterBlock",{block:N,id:Is.name,type:"if",source:"(106:0) {#if showSacredPause}",ctx:l}),N}function Vs(l){let e,t,o=l[43]+1+"",c,i,r,u=l[51]+"",p,k;const m={c:function(){e=d("div"),t=d("span"),c=U(o),i=w(),r=d("p"),p=U(u),k=w(),this.h()},l:function(h){e=f(h,"DIV",{class:!0,style:!0});var b=g(e);t=f(b,"SPAN",{class:!0});var C=g(t);c=O(C,o),C.forEach(v),i=y(b),r=f(b,"P",{class:!0});var S=g(r);p=O(S,u),S.forEach(v),k=y(b),b.forEach(v),this.h()},h:function(){n(t,"class","prompt-number svelte-uoqh9j"),a(t,Q,159,12,3836),n(r,"class","svelte-uoqh9j"),a(r,Q,160,12,3891),n(e,"class","prompt svelte-uoqh9j"),qt(e,"animation-delay",l[43]*.5+"s"),a(e,Q,158,10,3767)},m:function(h,b){ve(h,e,b),s(e,t),s(t,c),s(e,i),s(e,r),s(r,p),s(e,k)},p:Je,d:function(h){h&&v(e)}};return ae("SvelteRegisterBlock",{block:m,id:Vs.name,type:"each",source:"(125:8) {#each reflectionPrompts as prompt, i}",ctx:l}),m}function js(l){let e,t=l[48].name+"",o,c,i,r;function u(){return l[24](l[48])}const p={c:function(){e=d("button"),o=U(t),c=w(),this.h()},l:function(m){e=f(m,"BUTTON",{type:!0,class:!0});var _=g(e);o=O(_,t),c=y(_),_.forEach(v),this.h()},h:function(){n(e,"type","button"),n(e,"class","outcome-btn svelte-uoqh9j"),Ge(e,"selected",l[3]===l[48].name),a(e,Q,185,8,4607)},m:function(m,_){ve(m,e,_),s(e,o),s(e,c),i||(r=Ue(e,"click",u,!1,!1,!1,!1),i=!0)},p:function(m,_){l=m,_[0]&1&&t!==(t=l[48].name+"")&&me(o,t),_[0]&9&&Ge(e,"selected",l[3]===l[48].name)},d:function(m){m&&v(e),i=!1,r()}};return ae("SvelteRegisterBlock",{block:p,id:js.name,type:"each",source:"(152:6) {#each market.outcomes as outcome}",ctx:l}),p}function As(l){let e,t,o,c="Social Witnesses",i,r,u="Who will witness this prediction? They'll be notified of the outcome.",p,k,m,_="+ Add Witness",h,b,C,S="Commitment",V,P,T="What will you do if your prediction comes true?",E,D,I,A,H=Ke(l[8]),B=[];for(let N=0;N<H.length;N+=1)B[N]=Bs(kl(l,H,N));const M={c:function(){e=d("div"),t=d("div"),o=d("label"),o.textContent=c,i=w(),r=d("p"),r.textContent=u,p=w();for(let j=0;j<B.length;j+=1)B[j].c();k=w(),m=d("button"),m.textContent=_,h=w(),b=d("div"),C=d("label"),C.textContent=S,V=w(),P=d("p"),P.textContent=T,E=w(),D=d("textarea"),this.h()},l:function(j){e=f(j,"DIV",{class:!0});var W=g(e);t=f(W,"DIV",{class:!0});var R=g(t);o=f(R,"LABEL",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-10wam44"&&(o.textContent=c),i=y(R),r=f(R,"P",{class:!0,"data-svelte-h":!0}),z(r)!=="svelte-120sdar"&&(r.textContent=u),p=y(R);for(let X=0;X<B.length;X+=1)B[X].l(R);k=y(R),m=f(R,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),z(m)!=="svelte-yqyyl7"&&(m.textContent=_),R.forEach(v),h=y(W),b=f(W,"DIV",{class:!0});var x=g(b);C=f(x,"LABEL",{class:!0,"data-svelte-h":!0}),z(C)!=="svelte-13cembv"&&(C.textContent=S),V=y(x),P=f(x,"P",{class:!0,"data-svelte-h":!0}),z(P)!=="svelte-2ffv85"&&(P.textContent=T),E=y(x),D=f(x,"TEXTAREA",{placeholder:!0,class:!0}),g(D).forEach(v),x.forEach(v),W.forEach(v),this.h()},h:function(){n(o,"class","svelte-uoqh9j"),a(o,Q,241,10,6151),n(r,"class","stake-description svelte-uoqh9j"),a(r,Q,242,10,6193),n(m,"type","button"),n(m,"class","add-btn svelte-uoqh9j"),a(m,Q,252,10,6560),n(t,"class","stake-section svelte-uoqh9j"),a(t,Q,240,8,6113),n(C,"class","svelte-uoqh9j"),a(C,Q,259,10,6764),n(P,"class","stake-description svelte-uoqh9j"),a(P,Q,260,10,6800),n(D,"placeholder","e.g., 'I will volunteer 10 hours to this project'"),n(D,"class","svelte-uoqh9j"),a(D,Q,263,10,6915),n(b,"class","stake-section svelte-uoqh9j"),a(b,Q,258,8,6726),n(e,"class","advanced-stakes svelte-uoqh9j"),a(e,Q,238,6,6044)},m:function(j,W){ve(j,e,W),s(e,t),s(t,o),s(t,i),s(t,r),s(t,p);for(let R=0;R<B.length;R+=1)B[R]&&B[R].m(t,null);s(t,k),s(t,m),s(e,h),s(e,b),s(b,C),s(b,V),s(b,P),s(b,E),s(b,D),Xe(D,l[9]),I||(A=[Ue(m,"click",l[21],!1,!1,!1,!1),Ue(D,"input",l[30])],I=!0)},p:function(j,W){if(W[0]&256){H=Ke(j[8]);let R;for(R=0;R<H.length;R+=1){const x=kl(j,H,R);B[R]?B[R].p(x,W):(B[R]=Bs(x),B[R].c(),B[R].m(t,k))}for(;R<B.length;R+=1)B[R].d(1);B.length=H.length}W[0]&512&&Xe(D,j[9])},d:function(j){j&&v(e),It(B,j),I=!1,Ft(A)}};return ae("SvelteRegisterBlock",{block:M,id:As.name,type:"if",source:"(205:4) {#if showAdvanced}",ctx:l}),M}function Bs(l){let e,t,o;function c(){l[29].call(e,l[43])}const i={c:function(){e=d("input"),this.h()},l:function(u){e=f(u,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h:function(){n(e,"type","text"),n(e,"placeholder","Agent public key or @username"),n(e,"class","svelte-uoqh9j"),a(e,Q,246,12,6380)},m:function(u,p){ve(u,e,p),Xe(e,l[8][l[43]]),t||(o=Ue(e,"input",c),t=!0)},p:function(u,p){l=u,p[0]&256&&e.value!==l[8][l[43]]&&Xe(e,l[8][l[43]])},d:function(u){u&&v(e),t=!1,o()}};return ae("SvelteRegisterBlock",{block:i,id:Bs.name,type:"each",source:"(213:10) {#each socialWitnesses as witness, i}",ctx:l}),i}function qs(l){let e,t,o;function c(){l[32].call(e,l[43])}const i={c:function(){e=d("input"),this.h()},l:function(u){e=f(u,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h:function(){n(e,"type","text"),n(e,"placeholder","What are you assuming to be true?"),n(e,"class","svelte-uoqh9j"),a(e,Q,288,8,7639)},m:function(u,p){ve(u,e,p),Xe(e,l[11][l[43]]),t||(o=Ue(e,"input",c),t=!0)},p:function(u,p){l=u,p[0]&2048&&e.value!==l[11][l[43]]&&Xe(e,l[11][l[43]])},d:function(u){u&&v(e),t=!1,o()}};return ae("SvelteRegisterBlock",{block:i,id:qs.name,type:"each",source:"(255:6) {#each assumptions as assumption, i}",ctx:l}),i}function Ns(l){let e,t,o;function c(){l[33].call(e,l[43])}const i={c:function(){e=d("input"),this.h()},l:function(u){e=f(u,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h:function(){n(e,"type","text"),n(e,"placeholder","What might be wrong with your reasoning?"),n(e,"class","svelte-uoqh9j"),a(e,Q,302,8,8044)},m:function(u,p){ve(u,e,p),Xe(e,l[12][l[43]]),t||(o=Ue(e,"input",c),t=!0)},p:function(u,p){l=u,p[0]&4096&&e.value!==l[12][l[43]]&&Xe(e,l[12][l[43]])},d:function(u){u&&v(e),t=!1,o()}};return ae("SvelteRegisterBlock",{block:i,id:Ns.name,type:"each",source:"(269:6) {#each weaknesses as weakness, i}",ctx:l}),i}function Ms(l){let e,t="High-stakes prediction: A sacred pause will help you reflect.";const o={c:function(){e=d("p"),e.textContent=t,this.h()},l:function(i){e=f(i,"P",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1dy8nib"&&(e.textContent=t),this.h()},h:function(){n(e,"class","high-stakes-note svelte-uoqh9j"),a(e,Q,357,6,9652)},m:function(i,r){ve(i,e,r)},d:function(i){i&&v(e)}};return ae("SvelteRegisterBlock",{block:o,id:Ms.name,type:"if",source:"(324:4) {#if isHighStakes && !sacredPauseCompleted}",ctx:l}),o}function Rs(l){let e,t,o,c="Make Your Prediction",i,r,u,p="What do you predict?",k,m,_,h,b,C,S,V=Math.round(l[1]*100)+"",P,T,E,D,I,A,H,B="Very Uncertain",M,N,j="Very Confident",W,R,x,X="What will you stake?",G,$,Z,ye,De="Monetary (HAM)",Y,K,_e,J,te,je="Reputation",Be,ue,le,se,re=l[4]?"Hide":"Show",q,Me,Ie,Ee,ce,pe,Re="Share Your Reasoning",He,xe,Te="Transparent reasoning helps others learn, even if you're wrong.",ze,qe,Ve,de,ie,fe="Key Assumptions",ke,Ne,Se,Ce="+ Add Assumption",ge,F,ne,Fe="Acknowledged Weaknesses",nt,Qe,Ae,ct="+ Add Weakness",ut,Oe,it,ft="Plant a Wisdom Seed",ht,Ze,Dt="What lesson might future generations learn from this prediction?",mt,et,$e,dt,Ht="If I'm Correct",Nt,_t,vs,St,Vt,sl="If I'm Incorrect",hs,pt,ms,Pt,jt,ll="Letter to Future Predictors",_s,kt,ps,wt,Ct,zt=l[16]&&!l[6]?"Reflect & Submit":"Submit Prediction",Gt,Kt,ks,gs,nl,ot=l[5]&&Is(l),Mt=Ke(l[0].outcomes),tt=[];for(let Ye=0;Ye<Mt.length;Ye+=1)tt[Ye]=js(gl(l,Mt,Ye));let at=l[4]&&As(l),Rt=Ke(l[11]),st=[];for(let Ye=0;Ye<Rt.length;Ye+=1)st[Ye]=qs(pl(l,Rt,Ye));let Tt=Ke(l[12]),lt=[];for(let Ye=0;Ye<Tt.length;Ye+=1)lt[Ye]=Ns(_l(l,Tt,Ye));let rt=l[16]&&!l[6]&&Ms(l);const ol={c:function(){ot&&ot.c(),e=w(),t=d("form"),o=d("h3"),o.textContent=c,i=w(),r=d("div"),u=d("label"),u.textContent=p,k=w(),m=d("div");for(let oe=0;oe<tt.length;oe+=1)tt[oe].c();_=w(),h=d("div"),b=d("label"),C=U(`How confident are you?
      `),S=d("span"),P=U(V),T=U("%"),E=w(),D=d("input"),I=w(),A=d("div"),H=d("span"),H.textContent=B,M=w(),N=d("span"),N.textContent=j,W=w(),R=d("div"),x=d("label"),x.textContent=X,G=w(),$=d("div"),Z=d("div"),ye=d("label"),ye.textContent=De,Y=w(),K=d("input"),_e=w(),J=d("div"),te=d("label"),te.textContent=je,Be=w(),ue=d("input"),le=w(),se=d("button"),q=U(re),Me=U(" Advanced Stakes"),Ie=w(),at&&at.c(),Ee=w(),ce=d("div"),pe=d("label"),pe.textContent=Re,He=w(),xe=d("p"),xe.textContent=Te,ze=w(),qe=d("textarea"),Ve=w(),de=d("div"),ie=d("label"),ie.textContent=fe,ke=w();for(let oe=0;oe<st.length;oe+=1)st[oe].c();Ne=w(),Se=d("button"),Se.textContent=Ce,ge=w(),F=d("div"),ne=d("label"),ne.textContent=Fe,nt=w();for(let oe=0;oe<lt.length;oe+=1)lt[oe].c();Qe=w(),Ae=d("button"),Ae.textContent=ct,ut=w(),Oe=d("div"),it=d("label"),it.textContent=ft,ht=w(),Ze=d("p"),Ze.textContent=Dt,mt=w(),et=d("div"),$e=d("div"),dt=d("label"),dt.textContent=Ht,Nt=w(),_t=d("textarea"),vs=w(),St=d("div"),Vt=d("label"),Vt.textContent=sl,hs=w(),pt=d("textarea"),ms=w(),Pt=d("div"),jt=d("label"),jt.textContent=ll,_s=w(),kt=d("textarea"),ps=w(),wt=d("div"),Ct=d("button"),Gt=U(zt),ks=w(),rt&&rt.c(),this.h()},l:function(oe){ot&&ot.l(oe),e=y(oe),t=f(oe,"FORM",{class:!0});var Pe=g(t);o=f(Pe,"H3",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-jfs8e2"&&(o.textContent=c),i=y(Pe),r=f(Pe,"DIV",{class:!0});var ee=g(r);u=f(ee,"LABEL",{class:!0,"data-svelte-h":!0}),z(u)!=="svelte-1sfzs6f"&&(u.textContent=p),k=y(ee),m=f(ee,"DIV",{class:!0});var gt=g(m);for(let bt=0;bt<tt.length;bt+=1)tt[bt].l(gt);gt.forEach(v),ee.forEach(v),_=y(Pe),h=f(Pe,"DIV",{class:!0});var Lt=g(h);b=f(Lt,"LABEL",{class:!0});var bs=g(b);C=O(bs,`How confident are you?
      `),S=f(bs,"SPAN",{class:!0});var ys=g(S);P=O(ys,V),T=O(ys,"%"),ys.forEach(v),bs.forEach(v),E=y(Lt),D=f(Lt,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),I=y(Lt),A=f(Lt,"DIV",{class:!0});var Jt=g(A);H=f(Jt,"SPAN",{"data-svelte-h":!0}),z(H)!=="svelte-h48o15"&&(H.textContent=B),M=y(Jt),N=f(Jt,"SPAN",{"data-svelte-h":!0}),z(N)!=="svelte-1p65flm"&&(N.textContent=j),Jt.forEach(v),Lt.forEach(v),W=y(Pe),R=f(Pe,"DIV",{class:!0});var At=g(R);x=f(At,"LABEL",{class:!0,"data-svelte-h":!0}),z(x)!=="svelte-1rx739x"&&(x.textContent=X),G=y(At),$=f(At,"DIV",{class:!0});var Zt=g($);Z=f(Zt,"DIV",{class:!0});var $t=g(Z);ye=f($t,"LABEL",{class:!0,"data-svelte-h":!0}),z(ye)!=="svelte-619gs2"&&(ye.textContent=De),Y=y($t),K=f($t,"INPUT",{type:!0,min:!0,placeholder:!0,class:!0}),$t.forEach(v),_e=y(Zt),J=f(Zt,"DIV",{class:!0});var es=g(J);te=f(es,"LABEL",{class:!0,"data-svelte-h":!0}),z(te)!=="svelte-ygtyat"&&(te.textContent=je),Be=y(es),ue=f(es,"INPUT",{type:!0,min:!0,max:!0,placeholder:!0,class:!0}),es.forEach(v),Zt.forEach(v),le=y(At),se=f(At,"BUTTON",{type:!0,class:!0});var ws=g(se);q=O(ws,re),Me=O(ws," Advanced Stakes"),ws.forEach(v),Ie=y(At),at&&at.l(At),At.forEach(v),Ee=y(Pe),ce=f(Pe,"DIV",{class:!0});var Et=g(ce);pe=f(Et,"LABEL",{class:!0,"data-svelte-h":!0}),z(pe)!=="svelte-gmfd37"&&(pe.textContent=Re),He=y(Et),xe=f(Et,"P",{class:!0,"data-svelte-h":!0}),z(xe)!=="svelte-368atd"&&(xe.textContent=Te),ze=y(Et),qe=f(Et,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),g(qe).forEach(v),Ve=y(Et),de=f(Et,"DIV",{class:!0});var Wt=g(de);ie=f(Wt,"LABEL",{class:!0,"data-svelte-h":!0}),z(ie)!=="svelte-1uubqz7"&&(ie.textContent=fe),ke=y(Wt);for(let bt=0;bt<st.length;bt+=1)st[bt].l(Wt);Ne=y(Wt),Se=f(Wt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),z(Se)!=="svelte-gayfd3"&&(Se.textContent=Ce),Wt.forEach(v),ge=y(Et),F=f(Et,"DIV",{class:!0});var xt=g(F);ne=f(xt,"LABEL",{class:!0,"data-svelte-h":!0}),z(ne)!=="svelte-g7wsqf"&&(ne.textContent=Fe),nt=y(xt);for(let bt=0;bt<lt.length;bt+=1)lt[bt].l(xt);Qe=y(xt),Ae=f(xt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),z(Ae)!=="svelte-1oonwcj"&&(Ae.textContent=ct),xt.forEach(v),Et.forEach(v),ut=y(Pe),Oe=f(Pe,"DIV",{class:!0});var Bt=g(Oe);it=f(Bt,"LABEL",{class:!0,"data-svelte-h":!0}),z(it)!=="svelte-wv0vj3"&&(it.textContent=ft),ht=y(Bt),Ze=f(Bt,"P",{class:!0,"data-svelte-h":!0}),z(Ze)!=="svelte-167now6"&&(Ze.textContent=Dt),mt=y(Bt),et=f(Bt,"DIV",{class:!0});var ts=g(et);$e=f(ts,"DIV",{class:!0});var ss=g($e);dt=f(ss,"LABEL",{class:!0,"data-svelte-h":!0}),z(dt)!=="svelte-lr2na"&&(dt.textContent=Ht),Nt=y(ss),_t=f(ss,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),g(_t).forEach(v),ss.forEach(v),vs=y(ts),St=f(ts,"DIV",{class:!0});var ls=g(St);Vt=f(ls,"LABEL",{class:!0,"data-svelte-h":!0}),z(Vt)!=="svelte-1dgtzn9"&&(Vt.textContent=sl),hs=y(ls),pt=f(ls,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),g(pt).forEach(v),ls.forEach(v),ts.forEach(v),ms=y(Bt),Pt=f(Bt,"DIV",{class:!0});var ns=g(Pt);jt=f(ns,"LABEL",{class:!0,"data-svelte-h":!0}),z(jt)!=="svelte-1x6jz49"&&(jt.textContent=ll),_s=y(ns),kt=f(ns,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),g(kt).forEach(v),ns.forEach(v),Bt.forEach(v),ps=y(Pe),wt=f(Pe,"DIV",{class:!0});var os=g(wt);Ct=f(os,"BUTTON",{type:!0,class:!0});var al=g(Ct);Gt=O(al,zt),al.forEach(v),ks=y(os),rt&&rt.l(os),os.forEach(v),Pe.forEach(v),this.h()},h:function(){n(o,"class","svelte-uoqh9j"),a(o,Q,178,2,4373),n(u,"class","section-label svelte-uoqh9j"),a(u,Q,182,4,4466),n(m,"class","outcome-buttons svelte-uoqh9j"),a(m,Q,183,4,4528),n(r,"class","form-section svelte-uoqh9j"),a(r,Q,181,2,4435),n(S,"class","probability-display svelte-uoqh9j"),a(S,Q,201,6,5003),n(b,"class","section-label svelte-uoqh9j"),a(b,Q,199,4,4938),n(D,"type","range"),n(D,"min","0"),n(D,"max","1"),n(D,"step","0.01"),n(D,"class","probability-slider svelte-uoqh9j"),a(D,Q,203,4,5094),a(H,Q,212,6,5280),a(N,Q,213,6,5314),n(A,"class","probability-labels svelte-uoqh9j"),a(A,Q,211,4,5241),n(h,"class","form-section svelte-uoqh9j"),a(h,Q,198,2,4907),n(x,"class","section-label svelte-uoqh9j"),a(x,Q,219,4,5414),n(ye,"class","svelte-uoqh9j"),a(ye,Q,223,8,5541),n(K,"type","number"),n(K,"min","0"),n(K,"placeholder","0"),n(K,"class","svelte-uoqh9j"),a(K,Q,224,8,5579),n(Z,"class","stake-item svelte-uoqh9j"),a(Z,Q,222,6,5508),n(te,"class","svelte-uoqh9j"),a(te,Q,228,8,5707),n(ue,"type","number"),n(ue,"min","0"),n(ue,"max","100"),n(ue,"placeholder","0"),n(ue,"class","svelte-uoqh9j"),a(ue,Q,229,8,5741),n(J,"class","stake-item svelte-uoqh9j"),a(J,Q,227,6,5674),n($,"class","stake-grid svelte-uoqh9j"),a($,Q,221,4,5477),n(se,"type","button"),n(se,"class","expand-btn svelte-uoqh9j"),a(se,Q,233,4,5857),n(R,"class","form-section svelte-uoqh9j"),a(R,Q,218,2,5383),n(pe,"class","section-label svelte-uoqh9j"),a(pe,Q,274,4,7169),n(xe,"class","section-description svelte-uoqh9j"),a(xe,Q,275,4,7231),n(qe,"placeholder","Why do you believe this? What evidence or reasoning led you here?"),n(qe,"rows","3"),n(qe,"class","svelte-uoqh9j"),a(qe,Q,279,4,7347),n(ie,"class","svelte-uoqh9j"),a(ie,Q,286,6,7557),n(Se,"type","button"),n(Se,"class","add-btn svelte-uoqh9j"),a(Se,Q,294,6,7795),n(de,"class","reasoning-subsection svelte-uoqh9j"),a(de,Q,285,4,7516),n(ne,"class","svelte-uoqh9j"),a(ne,Q,300,6,7957),n(Ae,"type","button"),n(Ae,"class","add-btn svelte-uoqh9j"),a(Ae,Q,308,6,8206),n(F,"class","reasoning-subsection svelte-uoqh9j"),a(F,Q,299,4,7916),n(ce,"class","form-section svelte-uoqh9j"),a(ce,Q,273,2,7138),n(it,"class","section-label svelte-uoqh9j"),a(it,Q,316,4,8400),n(Ze,"class","section-description svelte-uoqh9j"),a(Ze,Q,317,4,8461),n(dt,"class","svelte-uoqh9j"),a(dt,Q,323,8,8644),n(_t,"placeholder","What will this teach us if I'm right?"),n(_t,"rows","2"),n(_t,"class","svelte-uoqh9j"),a(_t,Q,324,8,8682),n($e,"class","wisdom-item svelte-uoqh9j"),a($e,Q,322,6,8610),n(Vt,"class","svelte-uoqh9j"),a(Vt,Q,332,8,8887),n(pt,"placeholder","What will this teach us if I'm wrong?"),n(pt,"rows","2"),n(pt,"class","svelte-uoqh9j"),a(pt,Q,333,8,8927),n(St,"class","wisdom-item svelte-uoqh9j"),a(St,Q,331,6,8853),n(et,"class","wisdom-grid svelte-uoqh9j"),a(et,Q,321,4,8578),n(jt,"class","svelte-uoqh9j"),a(jt,Q,342,6,9144),n(kt,"placeholder","Dear future predictor: What do you wish you had known?"),n(kt,"rows","2"),n(kt,"class","svelte-uoqh9j"),a(kt,Q,343,6,9193),n(Pt,"class","letter-section svelte-uoqh9j"),a(Pt,Q,341,4,9109),n(Oe,"class","form-section wisdom-section svelte-uoqh9j"),a(Oe,Q,315,2,8354),n(Ct,"type","submit"),n(Ct,"class","submit-btn svelte-uoqh9j"),Ct.disabled=Kt=!l[10],a(Ct,Q,353,4,9424),n(wt,"class","form-actions svelte-uoqh9j"),a(wt,Q,352,2,9393),n(t,"class","prediction-form svelte-uoqh9j"),a(t,Q,177,0,4300)},m:function(oe,Pe){ot&&ot.m(oe,Pe),ve(oe,e,Pe),ve(oe,t,Pe),s(t,o),s(t,i),s(t,r),s(r,u),s(r,k),s(r,m);for(let ee=0;ee<tt.length;ee+=1)tt[ee]&&tt[ee].m(m,null);s(t,_),s(t,h),s(h,b),s(b,C),s(b,S),s(S,P),s(S,T),s(h,E),s(h,D),Xe(D,l[1]),s(h,I),s(h,A),s(A,H),s(A,M),s(A,N),s(t,W),s(t,R),s(R,x),s(R,G),s(R,$),s($,Z),s(Z,ye),s(Z,Y),s(Z,K),Xe(K,l[2]),s($,_e),s($,J),s(J,te),s(J,Be),s(J,ue),Xe(ue,l[7]),s(R,le),s(R,se),s(se,q),s(se,Me),s(R,Ie),at&&at.m(R,null),s(t,Ee),s(t,ce),s(ce,pe),s(ce,He),s(ce,xe),s(ce,ze),s(ce,qe),Xe(qe,l[10]),s(ce,Ve),s(ce,de),s(de,ie),s(de,ke);for(let ee=0;ee<st.length;ee+=1)st[ee]&&st[ee].m(de,null);s(de,Ne),s(de,Se),s(ce,ge),s(ce,F),s(F,ne),s(F,nt);for(let ee=0;ee<lt.length;ee+=1)lt[ee]&&lt[ee].m(F,null);s(F,Qe),s(F,Ae),s(t,ut),s(t,Oe),s(Oe,it),s(Oe,ht),s(Oe,Ze),s(Oe,mt),s(Oe,et),s(et,$e),s($e,dt),s($e,Nt),s($e,_t),Xe(_t,l[13]),s(et,vs),s(et,St),s(St,Vt),s(St,hs),s(St,pt),Xe(pt,l[14]),s(Oe,ms),s(Oe,Pt),s(Pt,jt),s(Pt,_s),s(Pt,kt),Xe(kt,l[15]),s(t,ps),s(t,wt),s(wt,Ct),s(Ct,Gt),s(wt,ks),rt&&rt.m(wt,null),gs||(nl=[Ue(D,"change",l[25]),Ue(D,"input",l[25]),Ue(K,"input",l[26]),Ue(ue,"input",l[27]),Ue(se,"click",l[28],!1,!1,!1,!1),Ue(qe,"input",l[31]),Ue(Se,"click",l[19],!1,!1,!1,!1),Ue(Ae,"click",l[20],!1,!1,!1,!1),Ue(_t,"input",l[34]),Ue(pt,"input",l[35]),Ue(kt,"input",l[36]),Ue(t,"submit",$l(l[17]),!1,!0,!1,!1)],gs=!0)},p:function(oe,Pe){if(oe[5]?ot?ot.p(oe,Pe):(ot=Is(oe),ot.c(),ot.m(e.parentNode,e)):ot&&(ot.d(1),ot=null),Pe[0]&9){Mt=Ke(oe[0].outcomes);let ee;for(ee=0;ee<Mt.length;ee+=1){const gt=gl(oe,Mt,ee);tt[ee]?tt[ee].p(gt,Pe):(tt[ee]=js(gt),tt[ee].c(),tt[ee].m(m,null))}for(;ee<tt.length;ee+=1)tt[ee].d(1);tt.length=Mt.length}if(Pe[0]&2&&V!==(V=Math.round(oe[1]*100)+"")&&me(P,V),Pe[0]&2&&Xe(D,oe[1]),Pe[0]&4&&Ot(K.value)!==oe[2]&&Xe(K,oe[2]),Pe[0]&128&&Ot(ue.value)!==oe[7]&&Xe(ue,oe[7]),Pe[0]&16&&re!==(re=oe[4]?"Hide":"Show")&&me(q,re),oe[4]?at?at.p(oe,Pe):(at=As(oe),at.c(),at.m(R,null)):at&&(at.d(1),at=null),Pe[0]&1024&&Xe(qe,oe[10]),Pe[0]&2048){Rt=Ke(oe[11]);let ee;for(ee=0;ee<Rt.length;ee+=1){const gt=pl(oe,Rt,ee);st[ee]?st[ee].p(gt,Pe):(st[ee]=qs(gt),st[ee].c(),st[ee].m(de,Ne))}for(;ee<st.length;ee+=1)st[ee].d(1);st.length=Rt.length}if(Pe[0]&4096){Tt=Ke(oe[12]);let ee;for(ee=0;ee<Tt.length;ee+=1){const gt=_l(oe,Tt,ee);lt[ee]?lt[ee].p(gt,Pe):(lt[ee]=Ns(gt),lt[ee].c(),lt[ee].m(F,Qe))}for(;ee<lt.length;ee+=1)lt[ee].d(1);lt.length=Tt.length}Pe[0]&8192&&Xe(_t,oe[13]),Pe[0]&16384&&Xe(pt,oe[14]),Pe[0]&32768&&Xe(kt,oe[15]),Pe[0]&65600&&zt!==(zt=oe[16]&&!oe[6]?"Reflect & Submit":"Submit Prediction")&&me(Gt,zt),Pe[0]&1024&&Kt!==(Kt=!oe[10])&&Il(Ct,"disabled",Kt),oe[16]&&!oe[6]?rt||(rt=Ms(oe),rt.c(),rt.m(wt,null)):rt&&(rt.d(1),rt=null)},i:Je,o:Je,d:function(oe){oe&&(v(e),v(t)),ot&&ot.d(oe),It(tt,oe),at&&at.d(),It(st,oe),It(lt,oe),rt&&rt.d(),gs=!1,Ft(nl)}};return ae("SvelteRegisterBlock",{block:ol,id:Rs.name,type:"component",source:"",ctx:l}),ol}function nn(l,e,t){var re;let o,{$$slots:c={},$$scope:i}=e;Yt("PredictionForm",c,[]);let{market:r}=e;const u=rl();let p=((re=r.outcomes[0])==null?void 0:re.name)||"",k=.5,m=!1,_=!1,h=!1,b=0,C=0,S=[],V="",P="",T=[""],E=[""],D="",I="",A="";function H(){if(o&&!h){t(5,_=!0);return}const q={market_id:r.id,outcome:p,probability:k,stake:B(),reasoning:M(),wisdom_seed:N()};u("submit",q)}function B(){const q={};return b>0&&(q.monetary={amount:b,currency:"HAM"}),C>0&&(q.reputation={amount:C,domain:r.epistemic_position.empirical}),S.length>0&&(q.social={witnesses:S.filter(Me=>Me.trim()),visibility:"public"}),V.trim()&&(q.commitment={promise:V,duration_days:30}),q}function M(){return{summary:P,assumptions:T.filter(q=>q.trim()).map(q=>({statement:q,sensitivity:.5})),acknowledged_weaknesses:E.filter(q=>q.trim()),steps:[],update_triggers:[],alternatives_considered:[],sources:[],confidence_breakdown:{model_uncertainty:.33,data_uncertainty:.33,meta_uncertainty:.34}}}function N(){if(!(!D&&!I))return{if_correct:D?{lesson:D,implication:"",domain_relevance:[]}:void 0,if_incorrect:I?{lesson:I,implication:"",domain_relevance:[]}:void 0,letter_to_future:A||void 0}}function j(){t(6,h=!0),t(5,_=!1)}function W(){t(11,T=[...T,""])}function R(){t(12,E=[...E,""])}function x(){t(8,S=[...S,""])}const X=["Are you expressing genuine confidence, or avoiding the discomfort of uncertainty?","What would change your mind? Have you truly considered that possibility?","Are you predicting what you believe, or what you wish to be true?","What do you know that others might not? What might they know that you dont?","If you are wrong, what will you learn from this prediction?"];l.$$.on_mount.push(function(){r===void 0&&!("market"in e||l.$$.bound[l.$$.props.market])&&console.warn("<PredictionForm> was created without expected prop 'market'")});const G=["market"];Object.keys(e).forEach(q=>{!~G.indexOf(q)&&q.slice(0,2)!=="$$"&&q!=="slot"&&console.warn(`<PredictionForm> was created with unknown prop '${q}'`)});const $=()=>t(5,_=!1),Z=q=>t(3,p=q.name);function ye(){k=Ot(this.value),t(1,k)}function De(){b=Ot(this.value),t(2,b)}function Y(){C=Ot(this.value),t(7,C)}const K=()=>t(4,m=!m);function _e(q){S[q]=this.value,t(8,S)}function J(){V=this.value,t(9,V)}function te(){P=this.value,t(10,P)}function je(q){T[q]=this.value,t(11,T)}function Be(q){E[q]=this.value,t(12,E)}function ue(){D=this.value,t(13,D)}function le(){I=this.value,t(14,I)}function se(){A=this.value,t(15,A)}return l.$$set=q=>{"market"in q&&t(0,r=q.market)},l.$capture_state=()=>({createEventDispatcher:rl,market:r,dispatch:u,selectedOutcome:p,probability:k,showAdvanced:m,showSacredPause:_,sacredPauseCompleted:h,monetaryStake:b,reputationStake:C,socialWitnesses:S,commitmentPromise:V,reasoningSummary:P,assumptions:T,weaknesses:E,wisdomIfCorrect:D,wisdomIfIncorrect:I,letterToFuture:A,handleSubmit:H,buildStake:B,buildReasoning:M,buildWisdomSeed:N,completeSacredPause:j,addAssumption:W,addWeakness:R,addWitness:x,reflectionPrompts:X,isHighStakes:o}),l.$inject_state=q=>{"market"in q&&t(0,r=q.market),"selectedOutcome"in q&&t(3,p=q.selectedOutcome),"probability"in q&&t(1,k=q.probability),"showAdvanced"in q&&t(4,m=q.showAdvanced),"showSacredPause"in q&&t(5,_=q.showSacredPause),"sacredPauseCompleted"in q&&t(6,h=q.sacredPauseCompleted),"monetaryStake"in q&&t(2,b=q.monetaryStake),"reputationStake"in q&&t(7,C=q.reputationStake),"socialWitnesses"in q&&t(8,S=q.socialWitnesses),"commitmentPromise"in q&&t(9,V=q.commitmentPromise),"reasoningSummary"in q&&t(10,P=q.reasoningSummary),"assumptions"in q&&t(11,T=q.assumptions),"weaknesses"in q&&t(12,E=q.weaknesses),"wisdomIfCorrect"in q&&t(13,D=q.wisdomIfCorrect),"wisdomIfIncorrect"in q&&t(14,I=q.wisdomIfIncorrect),"letterToFuture"in q&&t(15,A=q.letterToFuture),"isHighStakes"in q&&t(16,o=q.isHighStakes)},e&&"$$inject"in e&&l.$inject_state(e.$$inject),l.$$.update=()=>{l.$$.dirty[0]&6&&t(16,o=b>1e3||k>.9||k<.1)},[r,k,b,p,m,_,h,C,S,V,P,T,E,D,I,A,o,H,j,W,R,x,X,$,Z,ye,De,Y,K,_e,J,te,je,Be,ue,le,se]}class xl extends Qt{constructor(e){super(e),Xt(this,e,nn,Rs,Ut,{market:0},null,[-1,-1]),ae("SvelteRegisterComponent",{component:this,tagName:"PredictionForm",options:e,id:Rs.name})}get market(){throw new Error("<PredictionForm>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set market(e){throw new Error("<PredictionForm>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const be="src/lib/components/epistemic-markets/WisdomSeedDisplay.svelte";function yl(l,e,t){const o=l.slice();return o[6]=e[t],o}function Ts(l){let e,t,o,c,i,r,u,p,k="Wisdom Seed Dormant",m,_,h="This wisdom is maturing. It will be revealed when the lessons become clear.";const b={c:function(){e=d("div"),t=d("div"),o=We("svg"),c=We("path"),i=We("path"),r=w(),u=d("div"),p=d("span"),p.textContent=k,m=w(),_=d("span"),_.textContent=h,this.h()},l:function(S){e=f(S,"DIV",{class:!0});var V=g(e);t=f(V,"DIV",{class:!0});var P=g(t);o=Le(P,"svg",{viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var T=g(o);c=Le(T,"path",{d:!0}),g(c).forEach(v),i=Le(T,"path",{d:!0}),g(i).forEach(v),T.forEach(v),P.forEach(v),r=y(V),u=f(V,"DIV",{class:!0});var E=g(u);p=f(E,"SPAN",{class:!0,"data-svelte-h":!0}),z(p)!=="svelte-1jghfz0"&&(p.textContent=k),m=y(E),_=f(E,"SPAN",{class:!0,"data-svelte-h":!0}),z(_)!=="svelte-1uq1rsv"&&(_.textContent=h),E.forEach(v),V.forEach(v),this.h()},h:function(){n(c,"d","M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2z"),a(c,be,18,10,626),n(i,"d","M12 8v4l3 3"),a(i,be,19,10,691),n(o,"viewBox","0 0 24 24"),n(o,"fill","none"),n(o,"stroke","currentColor"),n(o,"stroke-width","2"),a(o,be,17,8,539),n(t,"class","seed-icon svelte-1mgwykx"),a(t,be,16,6,507),n(p,"class","dormancy-label svelte-1mgwykx"),a(p,be,23,8,786),n(_,"class","dormancy-description svelte-1mgwykx"),a(_,be,24,8,850),n(u,"class","dormancy-text"),a(u,be,22,6,750),n(e,"class","dormancy-indicator svelte-1mgwykx"),a(e,be,15,4,468)},m:function(S,V){ve(S,e,V),s(e,t),s(t,o),s(o,c),s(o,i),s(e,r),s(e,u),s(u,p),s(u,m),s(u,_)},d:function(S){S&&v(e)}};return ae("SvelteRegisterBlock",{block:b,id:Ts.name,type:"if",source:"(11:2) {#if resolved && !dormancyComplete}",ctx:l}),b}function Ls(l){var H;let e,t,o,c,i,r,u,p,k=l[2]==="correct"?"Wisdom from Being Right":"Wisdom from Being Wrong",m,_,h,b,C=l[4].lesson+"",S,V,P,T,E=l[4].implication&&Ws(l),D=((H=l[4].domain_relevance)==null?void 0:H.length)>0&&xs(l),I=l[0].meta_lesson&&zs(l);const A={c:function(){e=d("div"),t=d("div"),o=d("div"),c=We("svg"),i=We("path"),u=w(),p=d("h4"),m=U(k),_=w(),h=d("div"),b=d("p"),S=U(C),V=w(),E&&E.c(),P=w(),D&&D.c(),T=w(),I&&I.c(),this.h()},l:function(M){e=f(M,"DIV",{class:!0});var N=g(e);t=f(N,"DIV",{class:!0});var j=g(t);o=f(j,"DIV",{class:!0});var W=g(o);c=Le(W,"svg",{viewBox:!0,fill:!0,class:!0});var R=g(c);i=Le(R,"path",{d:!0}),g(i).forEach(v),R.forEach(v),W.forEach(v),u=y(j),p=f(j,"H4",{class:!0});var x=g(p);m=O(x,k),x.forEach(v),j.forEach(v),_=y(N),h=f(N,"DIV",{class:!0});var X=g(h);b=f(X,"P",{class:!0});var G=g(b);S=O(G,C),G.forEach(v),V=y(X),E&&E.l(X),P=y(X),D&&D.l(X),X.forEach(v),T=y(N),I&&I.l(N),N.forEach(v),this.h()},h:function(){n(i,"d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15l-5-5 1.41-1.41L11 14.17l7.59-7.59L20 8l-9 9z"),a(i,be,37,12,1243),n(c,"viewBox","0 0 24 24"),n(c,"fill","currentColor"),n(c,"class","svelte-1mgwykx"),a(c,be,36,10,1185),n(o,"class",r="wisdom-icon "+l[2]+" svelte-1mgwykx"),a(o,be,35,8,1139),n(p,"class","svelte-1mgwykx"),a(p,be,40,8,1413),n(t,"class","wisdom-header svelte-1mgwykx"),a(t,be,34,6,1103),n(b,"class","lesson-text svelte-1mgwykx"),a(b,be,46,8,1579),n(h,"class","lesson-content svelte-1mgwykx"),a(h,be,45,6,1542),n(e,"class","active-wisdom svelte-1mgwykx"),a(e,be,33,4,1069)},m:function(M,N){ve(M,e,N),s(e,t),s(t,o),s(o,c),s(c,i),s(t,u),s(t,p),s(p,m),s(e,_),s(e,h),s(h,b),s(b,S),s(h,V),E&&E.m(h,null),s(h,P),D&&D.m(h,null),s(e,T),I&&I.m(e,null)},p:function(M,N){var j;N&4&&r!==(r="wisdom-icon "+M[2]+" svelte-1mgwykx")&&n(o,"class",r),N&4&&k!==(k=M[2]==="correct"?"Wisdom from Being Right":"Wisdom from Being Wrong")&&me(m,k),N&16&&C!==(C=M[4].lesson+"")&&me(S,C),M[4].implication?E?E.p(M,N):(E=Ws(M),E.c(),E.m(h,P)):E&&(E.d(1),E=null),((j=M[4].domain_relevance)==null?void 0:j.length)>0?D?D.p(M,N):(D=xs(M),D.c(),D.m(h,null)):D&&(D.d(1),D=null),M[0].meta_lesson?I?I.p(M,N):(I=zs(M),I.c(),I.m(e,null)):I&&(I.d(1),I=null)},d:function(M){M&&v(e),E&&E.d(),D&&D.d(),I&&I.d()}};return ae("SvelteRegisterBlock",{block:A,id:Ls.name,type:"if",source:"(29:2) {#if showLesson}",ctx:l}),A}function Ws(l){let e,t,o="Implication:",c,i,r=l[4].implication+"",u;const p={c:function(){e=d("div"),t=d("span"),t.textContent=o,c=w(),i=d("p"),u=U(r),this.h()},l:function(m){e=f(m,"DIV",{class:!0});var _=g(e);t=f(_,"SPAN",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-19xohg2"&&(t.textContent=o),c=y(_),i=f(_,"P",{class:!0});var h=g(i);u=O(h,r),h.forEach(v),_.forEach(v),this.h()},h:function(){n(t,"class","implication-label svelte-1mgwykx"),a(t,be,50,12,1716),n(i,"class","svelte-1mgwykx"),a(i,be,51,12,1780),n(e,"class","implication svelte-1mgwykx"),a(e,be,49,10,1678)},m:function(m,_){ve(m,e,_),s(e,t),s(e,c),s(e,i),s(i,u)},p:function(m,_){_&16&&r!==(r=m[4].implication+"")&&me(u,r)},d:function(m){m&&v(e)}};return ae("SvelteRegisterBlock",{block:p,id:Ws.name,type:"if",source:"(45:8) {#if activeLesson.implication}",ctx:l}),p}function xs(l){let e,t,o="Relevant Domains:",c,i,r=Ke(l[4].domain_relevance),u=[];for(let k=0;k<r.length;k+=1)u[k]=Hs(yl(l,r,k));const p={c:function(){e=d("div"),t=d("span"),t.textContent=o,c=w(),i=d("div");for(let m=0;m<u.length;m+=1)u[m].c();this.h()},l:function(m){e=f(m,"DIV",{class:!0});var _=g(e);t=f(_,"SPAN",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-1ks8oip"&&(t.textContent=o),c=y(_),i=f(_,"DIV",{class:!0});var h=g(i);for(let b=0;b<u.length;b+=1)u[b].l(h);h.forEach(v),_.forEach(v),this.h()},h:function(){n(t,"class","domains-label svelte-1mgwykx"),a(t,be,57,12,1946),n(i,"class","domain-tags svelte-1mgwykx"),a(i,be,58,12,2011),n(e,"class","domains svelte-1mgwykx"),a(e,be,56,10,1912)},m:function(m,_){ve(m,e,_),s(e,t),s(e,c),s(e,i);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(i,null)},p:function(m,_){if(_&16){r=Ke(m[4].domain_relevance);let h;for(h=0;h<r.length;h+=1){const b=yl(m,r,h);u[h]?u[h].p(b,_):(u[h]=Hs(b),u[h].c(),u[h].m(i,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=r.length}},d:function(m){m&&v(e),It(u,m)}};return ae("SvelteRegisterBlock",{block:p,id:xs.name,type:"if",source:"(52:8) {#if activeLesson.domain_relevance?.length > 0}",ctx:l}),p}function Hs(l){let e,t=l[6]+"",o;const c={c:function(){e=d("span"),o=U(t),this.h()},l:function(r){e=f(r,"SPAN",{class:!0});var u=g(e);o=O(u,t),u.forEach(v),this.h()},h:function(){n(e,"class","domain-tag svelte-1mgwykx"),a(e,be,60,16,2115)},m:function(r,u){ve(r,e,u),s(e,o)},p:function(r,u){u&16&&t!==(t=r[6]+"")&&me(o,t)},d:function(r){r&&v(e)}};return ae("SvelteRegisterBlock",{block:c,id:Hs.name,type:"each",source:"(56:14) {#each activeLesson.domain_relevance as domain}",ctx:l}),c}function zs(l){let e,t,o="Meta-Lesson",c,i,r=l[0].meta_lesson+"",u;const p={c:function(){e=d("div"),t=d("span"),t.textContent=o,c=w(),i=d("p"),u=U(r),this.h()},l:function(m){e=f(m,"DIV",{class:!0});var _=g(e);t=f(_,"SPAN",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-bs2wa3"&&(t.textContent=o),c=y(_),i=f(_,"P",{class:!0});var h=g(i);u=O(h,r),h.forEach(v),_.forEach(v),this.h()},h:function(){n(t,"class","meta-label svelte-1mgwykx"),a(t,be,69,10,2321),n(i,"class","svelte-1mgwykx"),a(i,be,70,10,2375),n(e,"class","meta-lesson svelte-1mgwykx"),a(e,be,68,8,2285)},m:function(m,_){ve(m,e,_),s(e,t),s(e,c),s(e,i),s(i,u)},p:function(m,_){_&1&&r!==(r=m[0].meta_lesson+"")&&me(u,r)},d:function(m){m&&v(e)}};return ae("SvelteRegisterBlock",{block:p,id:zs.name,type:"if",source:"(64:6) {#if wisdomSeed.meta_lesson}",ctx:l}),p}function Os(l){let e,t,o,c,i,r,u,p="Letter to Future Predictors",k,m,_=l[0].letter_to_future+"",h;const b={c:function(){e=d("div"),t=d("div"),o=We("svg"),c=We("path"),i=We("polyline"),r=w(),u=d("span"),u.textContent=p,k=w(),m=d("blockquote"),h=U(_),this.h()},l:function(S){e=f(S,"DIV",{class:!0});var V=g(e);t=f(V,"DIV",{class:!0});var P=g(t);o=Le(P,"svg",{viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0});var T=g(o);c=Le(T,"path",{d:!0}),g(c).forEach(v),i=Le(T,"polyline",{points:!0}),g(i).forEach(v),T.forEach(v),r=y(P),u=f(P,"SPAN",{class:!0,"data-svelte-h":!0}),z(u)!=="svelte-16frdvl"&&(u.textContent=p),P.forEach(v),k=y(V),m=f(V,"BLOCKQUOTE",{class:!0});var E=g(m);h=O(E,_),E.forEach(v),V.forEach(v),this.h()},h:function(){n(c,"d","M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"),a(c,be,81,10,2711),n(i,"points","22,6 12,13 2,6"),a(i,be,82,10,2810),n(o,"viewBox","0 0 24 24"),n(o,"fill","none"),n(o,"stroke","currentColor"),n(o,"stroke-width","2"),n(o,"class","svelte-1mgwykx"),a(o,be,80,8,2624),n(u,"class","svelte-1mgwykx"),a(u,be,84,8,2870),n(t,"class","letter-header svelte-1mgwykx"),a(t,be,79,6,2588),n(m,"class","svelte-1mgwykx"),a(m,be,86,6,2930),n(e,"class","letter-to-future svelte-1mgwykx"),a(e,be,78,4,2551)},m:function(S,V){ve(S,e,V),s(e,t),s(t,o),s(o,c),s(o,i),s(t,r),s(t,u),s(e,k),s(e,m),s(m,h)},p:function(S,V){V&1&&_!==(_=S[0].letter_to_future+"")&&me(h,_)},d:function(S){S&&v(e)}};return ae("SvelteRegisterBlock",{block:b,id:Os.name,type:"if",source:"(74:2) {#if wisdomSeed.letter_to_future && (showLesson || !resolved)}",ctx:l}),b}function Us(l){var A,H;let e,t,o="Wisdom Seeds Planted",c,i,r,u,p="If Correct:",k,m,_=(((A=l[0].if_correct)==null?void 0:A.lesson)||"No wisdom seed planted")+"",h,b,C,S,V="If Incorrect:",P,T,E=(((H=l[0].if_incorrect)==null?void 0:H.lesson)||"No wisdom seed planted")+"",D;const I={c:function(){e=d("div"),t=d("h5"),t.textContent=o,c=w(),i=d("div"),r=d("div"),u=d("span"),u.textContent=p,k=w(),m=d("p"),h=U(_),b=w(),C=d("div"),S=d("span"),S.textContent=V,P=w(),T=d("p"),D=U(E),this.h()},l:function(M){e=f(M,"DIV",{class:!0});var N=g(e);t=f(N,"H5",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-nw4idl"&&(t.textContent=o),c=y(N),i=f(N,"DIV",{class:!0});var j=g(i);r=f(j,"DIV",{class:!0});var W=g(r);u=f(W,"SPAN",{class:!0,"data-svelte-h":!0}),z(u)!=="svelte-1cq2a6a"&&(u.textContent=p),k=y(W),m=f(W,"P",{class:!0});var R=g(m);h=O(R,_),R.forEach(v),W.forEach(v),b=y(j),C=f(j,"DIV",{class:!0});var x=g(C);S=f(x,"SPAN",{class:!0,"data-svelte-h":!0}),z(S)!=="svelte-18nsd2b"&&(S.textContent=V),P=y(x),T=f(x,"P",{class:!0});var X=g(T);D=O(X,E),X.forEach(v),x.forEach(v),j.forEach(v),N.forEach(v),this.h()},h:function(){n(t,"class","svelte-1mgwykx"),a(t,be,95,6,3112),n(u,"class","pending-label svelte-1mgwykx"),a(u,be,98,10,3231),n(m,"class","svelte-1mgwykx"),a(m,be,99,10,3288),n(r,"class","pending-item if-correct svelte-1mgwykx"),a(r,be,97,8,3183),n(S,"class","pending-label svelte-1mgwykx"),a(S,be,102,10,3428),n(T,"class","svelte-1mgwykx"),a(T,be,103,10,3487),n(C,"class","pending-item if-incorrect svelte-1mgwykx"),a(C,be,101,8,3378),n(i,"class","pending-grid svelte-1mgwykx"),a(i,be,96,6,3148),n(e,"class","pending-wisdom svelte-1mgwykx"),a(e,be,94,4,3077)},m:function(M,N){ve(M,e,N),s(e,t),s(e,c),s(e,i),s(i,r),s(r,u),s(r,k),s(r,m),s(m,h),s(i,b),s(i,C),s(C,S),s(C,P),s(C,T),s(T,D)},p:function(M,N){var j,W;N&1&&_!==(_=(((j=M[0].if_correct)==null?void 0:j.lesson)||"No wisdom seed planted")+"")&&me(h,_),N&1&&E!==(E=(((W=M[0].if_incorrect)==null?void 0:W.lesson)||"No wisdom seed planted")+"")&&me(D,E)},d:function(M){M&&v(e)}};return ae("SvelteRegisterBlock",{block:I,id:Us.name,type:"if",source:"(90:2) {#if !resolved}",ctx:l}),I}function Fs(l){let e,t,o,c,i=l[1]&&!l[3]&&Ts(l),r=l[5]&&Ls(l),u=l[0].letter_to_future&&(l[5]||!l[1])&&Os(l),p=!l[1]&&Us(l);const k={c:function(){e=d("div"),i&&i.c(),t=w(),r&&r.c(),o=w(),u&&u.c(),c=w(),p&&p.c(),this.h()},l:function(_){e=f(_,"DIV",{class:!0});var h=g(e);i&&i.l(h),t=y(h),r&&r.l(h),o=y(h),u&&u.l(h),c=y(h),p&&p.l(h),h.forEach(v),this.h()},h:function(){n(e,"class","wisdom-seed svelte-1mgwykx"),Ge(e,"dormant",l[1]&&!l[3]),Ge(e,"active",l[5]),a(e,be,12,0,298)},m:function(_,h){ve(_,e,h),i&&i.m(e,null),s(e,t),r&&r.m(e,null),s(e,o),u&&u.m(e,null),s(e,c),p&&p.m(e,null)},p:function(_,[h]){_[1]&&!_[3]?i||(i=Ts(_),i.c(),i.m(e,t)):i&&(i.d(1),i=null),_[5]?r?r.p(_,h):(r=Ls(_),r.c(),r.m(e,o)):r&&(r.d(1),r=null),_[0].letter_to_future&&(_[5]||!_[1])?u?u.p(_,h):(u=Os(_),u.c(),u.m(e,c)):u&&(u.d(1),u=null),_[1]?p&&(p.d(1),p=null):p?p.p(_,h):(p=Us(_),p.c(),p.m(e,null)),h&10&&Ge(e,"dormant",_[1]&&!_[3]),h&32&&Ge(e,"active",_[5])},i:Je,o:Je,d:function(_){_&&v(e),i&&i.d(),r&&r.d(),u&&u.d(),p&&p.d()}};return ae("SvelteRegisterBlock",{block:k,id:Fs.name,type:"component",source:"",ctx:l}),k}function on(l,e,t){let o,c,{$$slots:i={},$$scope:r}=e;Yt("WisdomSeedDisplay",i,[]);let{wisdomSeed:u}=e,{resolved:p=!1}=e,{outcome:k=null}=e,{dormancyComplete:m=!1}=e;l.$$.on_mount.push(function(){u===void 0&&!("wisdomSeed"in e||l.$$.bound[l.$$.props.wisdomSeed])&&console.warn("<WisdomSeedDisplay> was created without expected prop 'wisdomSeed'")});const _=["wisdomSeed","resolved","outcome","dormancyComplete"];return Object.keys(e).forEach(h=>{!~_.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<WisdomSeedDisplay> was created with unknown prop '${h}'`)}),l.$$set=h=>{"wisdomSeed"in h&&t(0,u=h.wisdomSeed),"resolved"in h&&t(1,p=h.resolved),"outcome"in h&&t(2,k=h.outcome),"dormancyComplete"in h&&t(3,m=h.dormancyComplete)},l.$capture_state=()=>({wisdomSeed:u,resolved:p,outcome:k,dormancyComplete:m,activeLesson:o,showLesson:c}),l.$inject_state=h=>{"wisdomSeed"in h&&t(0,u=h.wisdomSeed),"resolved"in h&&t(1,p=h.resolved),"outcome"in h&&t(2,k=h.outcome),"dormancyComplete"in h&&t(3,m=h.dormancyComplete),"activeLesson"in h&&t(4,o=h.activeLesson),"showLesson"in h&&t(5,c=h.showLesson)},e&&"$$inject"in e&&l.$inject_state(e.$$inject),l.$$.update=()=>{l.$$.dirty&5&&t(4,o=k==="correct"?u.if_correct:u.if_incorrect),l.$$.dirty&26&&t(5,c=p&&m&&o)},[u,p,k,m,o,c]}class Hl extends Qt{constructor(e){super(e),Xt(this,e,on,Fs,Ut,{wisdomSeed:0,resolved:1,outcome:2,dormancyComplete:3}),ae("SvelteRegisterComponent",{component:this,tagName:"WisdomSeedDisplay",options:e,id:Fs.name})}get wisdomSeed(){throw new Error("<WisdomSeedDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set wisdomSeed(e){throw new Error("<WisdomSeedDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get resolved(){throw new Error("<WisdomSeedDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set resolved(e){throw new Error("<WisdomSeedDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get outcome(){throw new Error("<WisdomSeedDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set outcome(e){throw new Error("<WisdomSeedDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get dormancyComplete(){throw new Error("<WisdomSeedDisplay>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set dormancyComplete(e){throw new Error("<WisdomSeedDisplay>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{Object:an}=Vl,L="src/lib/components/epistemic-markets/CalibrationProfile.svelte";function wl(l,e,t){const o=l.slice();return o[6]=e[t][0],o[7]=e[t][1],o}function Cl(l,e,t){const o=l.slice();o[10]=e[t];const c=Ul(o[10]);return o[11]=c,o}function Qs(l){let e,t,o="Calibration Curve",c,i,r="Perfect calibration means your 70% predictions come true 70% of the time.",u,p,k=Ke(l[1].calibration_buckets),m=[];for(let h=0;h<k.length;h+=1)m[h]=Xs(Cl(l,k,h));const _={c:function(){e=d("div"),t=d("h4"),t.textContent=o,c=w(),i=d("p"),i.textContent=r,u=w(),p=d("div");for(let b=0;b<m.length;b+=1)m[b].c();this.h()},l:function(b){e=f(b,"DIV",{class:!0});var C=g(e);t=f(C,"H4",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-12py91v"&&(t.textContent=o),c=y(C),i=f(C,"P",{class:!0,"data-svelte-h":!0}),z(i)!=="svelte-13m6uo4"&&(i.textContent=r),u=y(C),p=f(C,"DIV",{class:!0});var S=g(p);for(let V=0;V<m.length;V+=1)m[V].l(S);S.forEach(v),C.forEach(v),this.h()},h:function(){n(t,"class","svelte-991muk"),a(t,L,88,6,2748),n(i,"class","curve-description svelte-991muk"),a(i,L,89,6,2781),n(p,"class","bucket-grid svelte-991muk"),a(p,L,93,6,2911),n(e,"class","calibration-curve svelte-991muk"),a(e,L,87,4,2710)},m:function(b,C){ve(b,e,C),s(e,t),s(e,c),s(e,i),s(e,u),s(e,p);for(let S=0;S<m.length;S+=1)m[S]&&m[S].m(p,null)},p:function(b,C){if(C&2){k=Ke(b[1].calibration_buckets);let S;for(S=0;S<k.length;S+=1){const V=Cl(b,k,S);m[S]?m[S].p(V,C):(m[S]=Xs(V),m[S].c(),m[S].m(p,null))}for(;S<m.length;S+=1)m[S].d(1);m.length=k.length}},d:function(b){b&&v(e),It(m,b)}};return ae("SvelteRegisterBlock",{block:_,id:Qs.name,type:"if",source:"(75:2) {#if showDetails && profile.calibration_buckets?.length > 0}",ctx:l}),_}function Xs(l){let e,t,o=Math.round(l[10].range_start*100)+"",c,i,r=Math.round(l[10].range_end*100)+"",u,p,k,m,_,h,b="Expected",C,S,V=l[11].expected+"",P,T,E,D,I,A,H,B,M="Actual",N,j,W=l[11].actual+"",R,x,X,G=l[10].prediction_count+"",$,Z,ye;const De={c:function(){e=d("div"),t=d("div"),c=U(o),i=U("-"),u=U(r),p=U("%"),k=w(),m=d("div"),_=d("div"),h=d("span"),h.textContent=b,C=w(),S=d("span"),P=U(V),T=w(),E=d("div"),D=We("svg"),I=We("path"),A=w(),H=d("div"),B=d("span"),B.textContent=M,N=w(),j=d("span"),R=U(W),x=w(),X=d("div"),$=U(G),Z=U(" predictions"),ye=w(),this.h()},l:function(K){e=f(K,"DIV",{class:!0});var _e=g(e);t=f(_e,"DIV",{class:!0});var J=g(t);c=O(J,o),i=O(J,"-"),u=O(J,r),p=O(J,"%"),J.forEach(v),k=y(_e),m=f(_e,"DIV",{class:!0});var te=g(m);_=f(te,"DIV",{class:!0});var je=g(_);h=f(je,"SPAN",{class:!0,"data-svelte-h":!0}),z(h)!=="svelte-161rj5a"&&(h.textContent=b),C=y(je),S=f(je,"SPAN",{class:!0});var Be=g(S);P=O(Be,V),Be.forEach(v),je.forEach(v),T=y(te),E=f(te,"DIV",{class:!0});var ue=g(E);D=Le(ue,"svg",{viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0});var le=g(D);I=Le(le,"path",{d:!0}),g(I).forEach(v),le.forEach(v),ue.forEach(v),A=y(te),H=f(te,"DIV",{class:!0});var se=g(H);B=f(se,"SPAN",{class:!0,"data-svelte-h":!0}),z(B)!=="svelte-10i35c4"&&(B.textContent=M),N=y(se),j=f(se,"SPAN",{class:!0});var re=g(j);R=O(re,W),re.forEach(v),se.forEach(v),te.forEach(v),x=y(_e),X=f(_e,"DIV",{class:!0});var q=g(X);$=O(q,G),Z=O(q," predictions"),q.forEach(v),ye=y(_e),_e.forEach(v),this.h()},h:function(){n(t,"class","bucket-range svelte-991muk"),a(t,L,97,12,3179),n(h,"class","bucket-label svelte-991muk"),a(h,L,102,16,3420),n(S,"class","bucket-value svelte-991muk"),a(S,L,103,16,3479),n(_,"class","bucket-expected"),a(_,L,101,14,3374),n(I,"d","M5 12h14M12 5l7 7-7 7"),a(I,L,107,18,3707),n(D,"viewBox","0 0 24 24"),n(D,"fill","none"),n(D,"stroke","currentColor"),n(D,"stroke-width","2"),a(D,L,106,16,3612),n(E,"class","bucket-arrow svelte-991muk"),a(E,L,105,14,3569),n(B,"class","bucket-label svelte-991muk"),a(B,L,111,16,3843),n(j,"class","bucket-value svelte-991muk"),a(j,L,112,16,3900),n(H,"class","bucket-actual"),a(H,L,110,14,3799),n(m,"class","bucket-comparison svelte-991muk"),a(m,L,100,12,3328),n(X,"class","bucket-count svelte-991muk"),a(X,L,115,12,4005),n(e,"class","bucket svelte-991muk"),Ge(e,"good",l[11].diff<.1),Ge(e,"fair",l[11].diff>=.1&&l[11].diff<.2),a(e,L,96,10,3053)},m:function(K,_e){ve(K,e,_e),s(e,t),s(t,c),s(t,i),s(t,u),s(t,p),s(e,k),s(e,m),s(m,_),s(_,h),s(_,C),s(_,S),s(S,P),s(m,T),s(m,E),s(E,D),s(D,I),s(m,A),s(m,H),s(H,B),s(H,N),s(H,j),s(j,R),s(e,x),s(e,X),s(X,$),s(X,Z),s(e,ye)},p:function(K,_e){_e&2&&o!==(o=Math.round(K[10].range_start*100)+"")&&me(c,o),_e&2&&r!==(r=Math.round(K[10].range_end*100)+"")&&me(u,r),_e&2&&V!==(V=K[11].expected+"")&&me(P,V),_e&2&&W!==(W=K[11].actual+"")&&me(R,W),_e&2&&G!==(G=K[10].prediction_count+"")&&me($,G),_e&2&&Ge(e,"good",K[11].diff<.1),_e&2&&Ge(e,"fair",K[11].diff>=.1&&K[11].diff<.2)},d:function(K){K&&v(e)}};return ae("SvelteRegisterBlock",{block:De,id:Xs.name,type:"each",source:"(83:8) {#each profile.calibration_buckets as bucket}",ctx:l}),De}function Ys(l){let e,t,o="Domain Expertise",c,i,r=Ke(l[2]),u=[];for(let k=0;k<r.length;k+=1)u[k]=Gs(wl(l,r,k));const p={c:function(){e=d("div"),t=d("h4"),t.textContent=o,c=w(),i=d("div");for(let m=0;m<u.length;m+=1)u[m].c();this.h()},l:function(m){e=f(m,"DIV",{class:!0});var _=g(e);t=f(_,"H4",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-cavhtd"&&(t.textContent=o),c=y(_),i=f(_,"DIV",{class:!0});var h=g(i);for(let b=0;b<u.length;b+=1)u[b].l(h);h.forEach(v),_.forEach(v),this.h()},h:function(){n(t,"class","svelte-991muk"),a(t,L,127,6,4283),n(i,"class","domain-list svelte-991muk"),a(i,L,128,6,4315),n(e,"class","domain-expertise svelte-991muk"),a(e,L,126,4,4246)},m:function(m,_){ve(m,e,_),s(e,t),s(e,c),s(e,i);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(i,null)},p:function(m,_){if(_&4){r=Ke(m[2]);let h;for(h=0;h<r.length;h+=1){const b=wl(m,r,h);u[h]?u[h].p(b,_):(u[h]=Gs(b),u[h].c(),u[h].m(i,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=r.length}},d:function(m){m&&v(e),It(u,m)}};return ae("SvelteRegisterBlock",{block:p,id:Ys.name,type:"if",source:"(114:2) {#if showDetails && topDomains.length > 0}",ctx:l}),p}function Gs(l){let e,t,o,c=l[6]+"",i,r,u,p=l[7].prediction_count+"",k,m,_,h,b,C,S="Accuracy",V,P,T=Math.round(l[7].accuracy*100)+"",E,D,I,A,H,B="Reputation",M,N,j=Math.round(l[7].reputation)+"",W,R;const x={c:function(){e=d("div"),t=d("div"),o=d("span"),i=U(c),r=w(),u=d("span"),k=U(p),m=U(" predictions"),_=w(),h=d("div"),b=d("div"),C=d("span"),C.textContent=S,V=w(),P=d("span"),E=U(T),D=U("%"),I=w(),A=d("div"),H=d("span"),H.textContent=B,M=w(),N=d("span"),W=U(j),R=w(),this.h()},l:function(G){e=f(G,"DIV",{class:!0});var $=g(e);t=f($,"DIV",{class:!0});var Z=g(t);o=f(Z,"SPAN",{class:!0});var ye=g(o);i=O(ye,c),ye.forEach(v),r=y(Z),u=f(Z,"SPAN",{class:!0});var De=g(u);k=O(De,p),m=O(De," predictions"),De.forEach(v),Z.forEach(v),_=y($),h=f($,"DIV",{class:!0});var Y=g(h);b=f(Y,"DIV",{class:!0});var K=g(b);C=f(K,"SPAN",{class:!0,"data-svelte-h":!0}),z(C)!=="svelte-1mr96wb"&&(C.textContent=S),V=y(K),P=f(K,"SPAN",{class:!0});var _e=g(P);E=O(_e,T),D=O(_e,"%"),_e.forEach(v),K.forEach(v),I=y(Y),A=f(Y,"DIV",{class:!0});var J=g(A);H=f(J,"SPAN",{class:!0,"data-svelte-h":!0}),z(H)!=="svelte-myplid"&&(H.textContent=B),M=y(J),N=f(J,"SPAN",{class:!0});var te=g(N);W=O(te,j),te.forEach(v),J.forEach(v),Y.forEach(v),R=y($),$.forEach(v),this.h()},h:function(){n(o,"class","domain-name svelte-991muk"),a(o,L,132,14,4477),n(u,"class","domain-count svelte-991muk"),a(u,L,133,14,4533),n(t,"class","domain-header svelte-991muk"),a(t,L,131,12,4435),n(C,"class","svelte-991muk"),a(C,L,137,16,4720),n(P,"class","score-value svelte-991muk"),a(P,L,138,16,4758),n(b,"class","domain-score svelte-991muk"),a(b,L,136,14,4677),n(H,"class","svelte-991muk"),a(H,L,141,16,4905),n(N,"class","score-value svelte-991muk"),a(N,L,142,16,4945),n(A,"class","domain-score svelte-991muk"),a(A,L,140,14,4862),n(h,"class","domain-scores svelte-991muk"),a(h,L,135,12,4635),n(e,"class","domain-item svelte-991muk"),a(e,L,130,10,4397)},m:function(G,$){ve(G,e,$),s(e,t),s(t,o),s(o,i),s(t,r),s(t,u),s(u,k),s(u,m),s(e,_),s(e,h),s(h,b),s(b,C),s(b,V),s(b,P),s(P,E),s(P,D),s(h,I),s(h,A),s(A,H),s(A,M),s(A,N),s(N,W),s(e,R)},p:function(G,$){$&4&&c!==(c=G[6]+"")&&me(i,c),$&4&&p!==(p=G[7].prediction_count+"")&&me(k,p),$&4&&T!==(T=Math.round(G[7].accuracy*100)+"")&&me(E,T),$&4&&j!==(j=Math.round(G[7].reputation)+"")&&me(W,j)},d:function(G){G&&v(e)}};return ae("SvelteRegisterBlock",{block:x,id:Gs.name,type:"each",source:"(118:8) {#each topDomains as [domain, score]}",ctx:l}),x}function Ks(l){let e,t,o="Epistemic Virtues",c,i,r,u,p,k,m,_,h="Updates Beliefs",b,C,S=Math.round(l[1].epistemic_virtues.updates_beliefs*100)+"",V,P,T,E,D,I,A,H,B,M="Acknowledges Uncertainty",N,j,W=Math.round(l[1].epistemic_virtues.acknowledges_uncertainty*100)+"",R,x,X,G,$,Z,ye,De,Y,K="Productive Disagreement",_e,J,te=Math.round(l[1].epistemic_virtues.productive_disagreement*100)+"",je,Be,ue,le,se,re,q,Me,Ie,Ee="Reasoning Transparency",ce,pe,Re=Math.round(l[1].epistemic_virtues.reasoning_transparency*100)+"",He,xe;const Te={c:function(){e=d("div"),t=d("h4"),t.textContent=o,c=w(),i=d("div"),r=d("div"),u=d("div"),p=We("svg"),k=We("path"),m=w(),_=d("span"),_.textContent=h,b=w(),C=d("span"),V=U(S),P=U("%"),T=w(),E=d("div"),D=d("div"),I=We("svg"),A=We("path"),H=w(),B=d("span"),B.textContent=M,N=w(),j=d("span"),R=U(W),x=U("%"),X=w(),G=d("div"),$=d("div"),Z=We("svg"),ye=We("path"),De=w(),Y=d("span"),Y.textContent=K,_e=w(),J=d("span"),je=U(te),Be=U("%"),ue=w(),le=d("div"),se=d("div"),re=We("svg"),q=We("path"),Me=w(),Ie=d("span"),Ie.textContent=Ee,ce=w(),pe=d("span"),He=U(Re),xe=U("%"),this.h()},l:function(qe){e=f(qe,"DIV",{class:!0});var Ve=g(e);t=f(Ve,"H4",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-1sst3sj"&&(t.textContent=o),c=y(Ve),i=f(Ve,"DIV",{class:!0});var de=g(i);r=f(de,"DIV",{class:!0});var ie=g(r);u=f(ie,"DIV",{class:!0});var fe=g(u);p=Le(fe,"svg",{viewBox:!0,fill:!0});var ke=g(p);k=Le(ke,"path",{d:!0}),g(k).forEach(v),ke.forEach(v),fe.forEach(v),m=y(ie),_=f(ie,"SPAN",{class:!0,"data-svelte-h":!0}),z(_)!=="svelte-8gagcj"&&(_.textContent=h),b=y(ie),C=f(ie,"SPAN",{class:!0});var Ne=g(C);V=O(Ne,S),P=O(Ne,"%"),Ne.forEach(v),ie.forEach(v),T=y(de),E=f(de,"DIV",{class:!0});var Se=g(E);D=f(Se,"DIV",{class:!0});var Ce=g(D);I=Le(Ce,"svg",{viewBox:!0,fill:!0});var ge=g(I);A=Le(ge,"path",{d:!0}),g(A).forEach(v),ge.forEach(v),Ce.forEach(v),H=y(Se),B=f(Se,"SPAN",{class:!0,"data-svelte-h":!0}),z(B)!=="svelte-1kmm5yw"&&(B.textContent=M),N=y(Se),j=f(Se,"SPAN",{class:!0});var F=g(j);R=O(F,W),x=O(F,"%"),F.forEach(v),Se.forEach(v),X=y(de),G=f(de,"DIV",{class:!0});var ne=g(G);$=f(ne,"DIV",{class:!0});var Fe=g($);Z=Le(Fe,"svg",{viewBox:!0,fill:!0});var nt=g(Z);ye=Le(nt,"path",{d:!0}),g(ye).forEach(v),nt.forEach(v),Fe.forEach(v),De=y(ne),Y=f(ne,"SPAN",{class:!0,"data-svelte-h":!0}),z(Y)!=="svelte-13zgd4u"&&(Y.textContent=K),_e=y(ne),J=f(ne,"SPAN",{class:!0});var Qe=g(J);je=O(Qe,te),Be=O(Qe,"%"),Qe.forEach(v),ne.forEach(v),ue=y(de),le=f(de,"DIV",{class:!0});var Ae=g(le);se=f(Ae,"DIV",{class:!0});var ct=g(se);re=Le(ct,"svg",{viewBox:!0,fill:!0});var ut=g(re);q=Le(ut,"path",{d:!0}),g(q).forEach(v),ut.forEach(v),ct.forEach(v),Me=y(Ae),Ie=f(Ae,"SPAN",{class:!0,"data-svelte-h":!0}),z(Ie)!=="svelte-tsi8wt"&&(Ie.textContent=Ee),ce=y(Ae),pe=f(Ae,"SPAN",{class:!0});var Oe=g(pe);He=O(Oe,Re),xe=O(Oe,"%"),Oe.forEach(v),Ae.forEach(v),de.forEach(v),Ve.forEach(v),this.h()},h:function(){n(t,"class","svelte-991muk"),a(t,L,154,6,5235),n(k,"d","M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"),a(k,L,159,14,5439),n(p,"viewBox","0 0 24 24"),n(p,"fill","currentColor"),a(p,L,158,12,5379),n(u,"class","virtue-icon updates svelte-991muk"),a(u,L,157,10,5333),n(_,"class","virtue-label svelte-991muk"),a(_,L,162,10,5696),n(C,"class","virtue-value svelte-991muk"),a(C,L,163,10,5756),n(r,"class","virtue svelte-991muk"),a(r,L,156,8,5302),n(A,"d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"),a(A,L,169,14,6018),n(I,"viewBox","0 0 24 24"),n(I,"fill","currentColor"),a(I,L,168,12,5958),n(D,"class","virtue-icon uncertainty svelte-991muk"),a(D,L,167,10,5908),n(B,"class","virtue-label svelte-991muk"),a(B,L,172,10,6345),n(j,"class","virtue-value svelte-991muk"),a(j,L,173,10,6414),n(E,"class","virtue svelte-991muk"),a(E,L,166,8,5877),n(ye,"d","M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"),a(ye,L,179,14,6686),n(Z,"viewBox","0 0 24 24"),n(Z,"fill","currentColor"),a(Z,L,178,12,6626),n($,"class","virtue-icon disagreement svelte-991muk"),a($,L,177,10,6575),n(Y,"class","virtue-label svelte-991muk"),a(Y,L,182,10,6869),n(J,"class","virtue-value svelte-991muk"),a(J,L,183,10,6937),n(G,"class","virtue svelte-991muk"),a(G,L,176,8,6544),n(q,"d","M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"),a(q,L,189,14,7208),n(re,"viewBox","0 0 24 24"),n(re,"fill","currentColor"),a(re,L,188,12,7148),n(se,"class","virtue-icon transparency svelte-991muk"),a(se,L,187,10,7097),n(Ie,"class","virtue-label svelte-991muk"),a(Ie,L,192,10,7476),n(pe,"class","virtue-value svelte-991muk"),a(pe,L,193,10,7543),n(le,"class","virtue svelte-991muk"),a(le,L,186,8,7066),n(i,"class","virtue-grid svelte-991muk"),a(i,L,155,6,5268),n(e,"class","epistemic-virtues svelte-991muk"),a(e,L,153,4,5197)},m:function(qe,Ve){ve(qe,e,Ve),s(e,t),s(e,c),s(e,i),s(i,r),s(r,u),s(u,p),s(p,k),s(r,m),s(r,_),s(r,b),s(r,C),s(C,V),s(C,P),s(i,T),s(i,E),s(E,D),s(D,I),s(I,A),s(E,H),s(E,B),s(E,N),s(E,j),s(j,R),s(j,x),s(i,X),s(i,G),s(G,$),s($,Z),s(Z,ye),s(G,De),s(G,Y),s(G,_e),s(G,J),s(J,je),s(J,Be),s(i,ue),s(i,le),s(le,se),s(se,re),s(re,q),s(le,Me),s(le,Ie),s(le,ce),s(le,pe),s(pe,He),s(pe,xe)},p:function(qe,Ve){Ve&2&&S!==(S=Math.round(qe[1].epistemic_virtues.updates_beliefs*100)+"")&&me(V,S),Ve&2&&W!==(W=Math.round(qe[1].epistemic_virtues.acknowledges_uncertainty*100)+"")&&me(R,W),Ve&2&&te!==(te=Math.round(qe[1].epistemic_virtues.productive_disagreement*100)+"")&&me(je,te),Ve&2&&Re!==(Re=Math.round(qe[1].epistemic_virtues.reasoning_transparency*100)+"")&&me(He,Re)},d:function(qe){qe&&v(e)}};return ae("SvelteRegisterBlock",{block:Te,id:Ks.name,type:"if",source:"(141:2) {#if showDetails && profile.epistemic_virtues}",ctx:l}),Te}function Js(l){let e,t,o="Healing Journey",c,i,r,u,p,k=l[1].healing_journey.status==="progressing"?"Healing in Progress":"Healing Complete",m,_,h,b,C=l[1].healing_journey.commitment+"",S;function V(D,I){return D[1].healing_journey.status==="progressing"?Ol:zl}let P=V(l),T=P(l);const E={c:function(){e=d("div"),t=d("h4"),t.textContent=o,c=w(),i=d("div"),r=d("span"),T.c(),u=w(),p=d("span"),m=U(k),h=w(),b=d("p"),S=U(C),this.h()},l:function(I){e=f(I,"DIV",{class:!0});var A=g(e);t=f(A,"H4",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-tkbo3k"&&(t.textContent=o),c=y(A),i=f(A,"DIV",{class:!0});var H=g(i);r=f(H,"SPAN",{class:!0});var B=g(r);T.l(B),B.forEach(v),u=y(H),p=f(H,"SPAN",{class:!0});var M=g(p);m=O(M,k),M.forEach(v),H.forEach(v),h=y(A),b=f(A,"P",{class:!0});var N=g(b);S=O(N,C),N.forEach(v),A.forEach(v),this.h()},h:function(){n(t,"class","svelte-991muk"),a(t,L,202,6,7809),n(r,"class","status-icon svelte-991muk"),a(r,L,204,8,7910),n(p,"class","status-text svelte-991muk"),a(p,L,215,8,8502),n(i,"class",_="healing-status "+l[1].healing_journey.status+" svelte-991muk"),a(i,L,203,6,7840),n(b,"class","healing-note svelte-991muk"),a(b,L,219,6,8670),n(e,"class","healing-journey svelte-991muk"),a(e,L,201,4,7773)},m:function(I,A){ve(I,e,A),s(e,t),s(e,c),s(e,i),s(i,r),T.m(r,null),s(i,u),s(i,p),s(p,m),s(e,h),s(e,b),s(b,S)},p:function(I,A){P!==(P=V(I))&&(T.d(1),T=P(I),T&&(T.c(),T.m(r,null))),A&2&&k!==(k=I[1].healing_journey.status==="progressing"?"Healing in Progress":"Healing Complete")&&me(m,k),A&2&&_!==(_="healing-status "+I[1].healing_journey.status+" svelte-991muk")&&n(i,"class",_),A&2&&C!==(C=I[1].healing_journey.commitment+"")&&me(S,C)},d:function(I){I&&v(e),T.d()}};return ae("SvelteRegisterBlock",{block:E,id:Js.name,type:"if",source:"(189:2) {#if showDetails && profile.healing_journey}",ctx:l}),E}function zl(l){let e,t;const o={c:function(){e=We("svg"),t=We("path"),this.h()},l:function(i){e=Le(i,"svg",{viewBox:!0,fill:!0,class:!0});var r=g(e);t=Le(r,"path",{d:!0}),g(t).forEach(v),r.forEach(v),this.h()},h:function(){n(t,"d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15l-5-5 1.41-1.41L11 14.17l7.59-7.59L20 8l-9 9z"),a(t,L,211,14,8313),n(e,"viewBox","0 0 24 24"),n(e,"fill","currentColor"),n(e,"class","svelte-991muk"),a(e,L,210,12,8253)},m:function(i,r){ve(i,e,r),s(e,t)},d:function(i){i&&v(e)}};return ae("SvelteRegisterBlock",{block:o,id:zl.name,type:"else",source:"(198:10) {:else}",ctx:l}),o}function Ol(l){let e,t;const o={c:function(){e=We("svg"),t=We("path"),this.h()},l:function(i){e=Le(i,"svg",{viewBox:!0,fill:!0,class:!0});var r=g(e);t=Le(r,"path",{d:!0}),g(t).forEach(v),r.forEach(v),this.h()},h:function(){n(t,"d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"),a(t,L,207,14,8074),n(e,"viewBox","0 0 24 24"),n(e,"fill","currentColor"),n(e,"class","svelte-991muk"),a(e,L,206,12,8014)},m:function(i,r){ve(i,e,r),s(e,t)},d:function(i){i&&v(e)}};return ae("SvelteRegisterBlock",{block:o,id:Ol.name,type:"if",source:"(194:10) {#if profile.healing_journey.status === 'progressing'}",ctx:l}),o}function Zs(l){var Ce;let e,t,o,c,i,r,u,p,k=l[1].agent.slice(0,12)+"",m,_,h,b,C,S,V,P,T,E,D="Brier Score",I,A,H=l[1].brier_score.toFixed(3)+"",B,M,N,j,W,R,x="Resolution",X,G,$=Math.round(l[1].resolution_score*100)+"",Z,ye,De,Y,K,_e,J,te,je,Be="Reliability",ue,le,se=Math.round(l[1].reliability_score*100)+"",re,q,Me,Ie,Ee,ce,pe,Re,He,xe,Te,ze=l[0]?"Hide Details":"Show Details",qe,Ve,de,ie=l[0]&&((Ce=l[1].calibration_buckets)==null?void 0:Ce.length)>0&&Qs(l),fe=l[0]&&l[2].length>0&&Ys(l),ke=l[0]&&l[1].epistemic_virtues&&Ks(l),Ne=l[0]&&l[1].healing_journey&&Js(l);const Se={c:function(){e=d("div"),t=d("div"),o=d("div"),c=We("svg"),i=We("path"),r=w(),u=d("div"),p=d("h3"),m=U(k),_=U("..."),h=w(),b=d("div"),C=U(l[4]),S=U(" Calibration"),P=w(),T=d("div"),E=d("span"),E.textContent=D,I=w(),A=d("span"),B=U(H),M=w(),N=d("div"),j=d("div"),W=d("div"),R=d("span"),R.textContent=x,X=w(),G=d("span"),Z=U($),ye=U("%"),De=w(),Y=d("div"),K=d("div"),_e=w(),J=d("div"),te=d("div"),je=d("span"),je.textContent=Be,ue=w(),le=d("span"),re=U(se),q=U("%"),Me=w(),Ie=d("div"),Ee=d("div"),ce=w(),ie&&ie.c(),pe=w(),fe&&fe.c(),Re=w(),ke&&ke.c(),He=w(),Ne&&Ne.c(),xe=w(),Te=d("button"),qe=U(ze),this.h()},l:function(F){e=f(F,"DIV",{class:!0});var ne=g(e);t=f(ne,"DIV",{class:!0});var Fe=g(t);o=f(Fe,"DIV",{class:!0});var nt=g(o);c=Le(nt,"svg",{viewBox:!0,fill:!0,class:!0});var Qe=g(c);i=Le(Qe,"path",{d:!0}),g(i).forEach(v),Qe.forEach(v),nt.forEach(v),r=y(Fe),u=f(Fe,"DIV",{class:!0});var Ae=g(u);p=f(Ae,"H3",{class:!0});var ct=g(p);m=O(ct,k),_=O(ct,"..."),ct.forEach(v),h=y(Ae),b=f(Ae,"DIV",{class:!0});var ut=g(b);C=O(ut,l[4]),S=O(ut," Calibration"),ut.forEach(v),Ae.forEach(v),P=y(Fe),T=f(Fe,"DIV",{class:!0});var Oe=g(T);E=f(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),z(E)!=="svelte-1qjqgfc"&&(E.textContent=D),I=y(Oe),A=f(Oe,"SPAN",{class:!0});var it=g(A);B=O(it,H),it.forEach(v),Oe.forEach(v),Fe.forEach(v),M=y(ne),N=f(ne,"DIV",{class:!0});var ft=g(N);j=f(ft,"DIV",{class:!0});var ht=g(j);W=f(ht,"DIV",{class:!0});var Ze=g(W);R=f(Ze,"SPAN",{"data-svelte-h":!0}),z(R)!=="svelte-qqae5s"&&(R.textContent=x),X=y(Ze),G=f(Ze,"SPAN",{});var Dt=g(G);Z=O(Dt,$),ye=O(Dt,"%"),Dt.forEach(v),Ze.forEach(v),De=y(ht),Y=f(ht,"DIV",{class:!0});var mt=g(Y);K=f(mt,"DIV",{class:!0,style:!0}),g(K).forEach(v),mt.forEach(v),ht.forEach(v),_e=y(ft),J=f(ft,"DIV",{class:!0});var et=g(J);te=f(et,"DIV",{class:!0});var $e=g(te);je=f($e,"SPAN",{"data-svelte-h":!0}),z(je)!=="svelte-14e3caq"&&(je.textContent=Be),ue=y($e),le=f($e,"SPAN",{});var dt=g(le);re=O(dt,se),q=O(dt,"%"),dt.forEach(v),$e.forEach(v),Me=y(et),Ie=f(et,"DIV",{class:!0});var Ht=g(Ie);Ee=f(Ht,"DIV",{class:!0,style:!0}),g(Ee).forEach(v),Ht.forEach(v),et.forEach(v),ft.forEach(v),ce=y(ne),ie&&ie.l(ne),pe=y(ne),fe&&fe.l(ne),Re=y(ne),ke&&ke.l(ne),He=y(ne),Ne&&Ne.l(ne),xe=y(ne),Te=f(ne,"BUTTON",{class:!0});var Nt=g(Te);qe=O(Nt,ze),Nt.forEach(v),ne.forEach(v),this.h()},h:function(){n(i,"d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"),a(i,L,47,8,1276),n(c,"viewBox","0 0 24 24"),n(c,"fill","currentColor"),n(c,"class","svelte-991muk"),a(c,L,46,6,1222),n(o,"class","profile-avatar svelte-991muk"),a(o,L,45,4,1187),n(p,"class","svelte-991muk"),a(p,L,51,6,1577),n(b,"class",V="calibration-badge "+l[3]+" svelte-991muk"),a(b,L,52,6,1624),n(u,"class","profile-info svelte-991muk"),a(u,L,50,4,1544),n(E,"class","brier-label svelte-991muk"),a(E,L,57,6,1776),n(A,"class","brier-value svelte-991muk"),a(A,L,58,6,1827),n(T,"class","brier-score svelte-991muk"),a(T,L,56,4,1744),n(t,"class","profile-header svelte-991muk"),a(t,L,44,2,1154),a(R,L,66,8,2031),a(G,L,67,8,2063),n(W,"class","score-label svelte-991muk"),a(W,L,65,6,1997),n(K,"class","bar-fill emerald svelte-991muk"),qt(K,"width",l[1].resolution_score*100+"%"),a(K,L,70,8,2173),n(Y,"class","bar-track svelte-991muk"),a(Y,L,69,6,2141),n(j,"class","score-bar svelte-991muk"),a(j,L,64,4,1967),a(je,L,76,8,2352),a(le,L,77,8,2385),n(te,"class","score-label svelte-991muk"),a(te,L,75,6,2318),n(Ee,"class","bar-fill blue svelte-991muk"),qt(Ee,"width",l[1].reliability_score*100+"%"),a(Ee,L,80,8,2496),n(Ie,"class","bar-track svelte-991muk"),a(Ie,L,79,6,2464),n(J,"class","score-bar svelte-991muk"),a(J,L,74,4,2288),n(N,"class","score-bars svelte-991muk"),a(N,L,63,2,1938),n(Te,"class","toggle-details svelte-991muk"),a(Te,L,224,2,8790),n(e,"class","calibration-profile svelte-991muk"),a(e,L,42,0,1100)},m:function(F,ne){ve(F,e,ne),s(e,t),s(t,o),s(o,c),s(c,i),s(t,r),s(t,u),s(u,p),s(p,m),s(p,_),s(u,h),s(u,b),s(b,C),s(b,S),s(t,P),s(t,T),s(T,E),s(T,I),s(T,A),s(A,B),s(e,M),s(e,N),s(N,j),s(j,W),s(W,R),s(W,X),s(W,G),s(G,Z),s(G,ye),s(j,De),s(j,Y),s(Y,K),s(N,_e),s(N,J),s(J,te),s(te,je),s(te,ue),s(te,le),s(le,re),s(le,q),s(J,Me),s(J,Ie),s(Ie,Ee),s(e,ce),ie&&ie.m(e,null),s(e,pe),fe&&fe.m(e,null),s(e,Re),ke&&ke.m(e,null),s(e,He),Ne&&Ne.m(e,null),s(e,xe),s(e,Te),s(Te,qe),Ve||(de=Ue(Te,"click",l[5],!1,!1,!1,!1),Ve=!0)},p:function(F,[ne]){var Fe;ne&2&&k!==(k=F[1].agent.slice(0,12)+"")&&me(m,k),ne&16&&me(C,F[4]),ne&8&&V!==(V="calibration-badge "+F[3]+" svelte-991muk")&&n(b,"class",V),ne&2&&H!==(H=F[1].brier_score.toFixed(3)+"")&&me(B,H),ne&2&&$!==($=Math.round(F[1].resolution_score*100)+"")&&me(Z,$),ne&2&&qt(K,"width",F[1].resolution_score*100+"%"),ne&2&&se!==(se=Math.round(F[1].reliability_score*100)+"")&&me(re,se),ne&2&&qt(Ee,"width",F[1].reliability_score*100+"%"),F[0]&&((Fe=F[1].calibration_buckets)==null?void 0:Fe.length)>0?ie?ie.p(F,ne):(ie=Qs(F),ie.c(),ie.m(e,pe)):ie&&(ie.d(1),ie=null),F[0]&&F[2].length>0?fe?fe.p(F,ne):(fe=Ys(F),fe.c(),fe.m(e,Re)):fe&&(fe.d(1),fe=null),F[0]&&F[1].epistemic_virtues?ke?ke.p(F,ne):(ke=Ks(F),ke.c(),ke.m(e,He)):ke&&(ke.d(1),ke=null),F[0]&&F[1].healing_journey?Ne?Ne.p(F,ne):(Ne=Js(F),Ne.c(),Ne.m(e,xe)):Ne&&(Ne.d(1),Ne=null),ne&1&&ze!==(ze=F[0]?"Hide Details":"Show Details")&&me(qe,ze)},i:Je,o:Je,d:function(F){F&&v(e),ie&&ie.d(),fe&&fe.d(),ke&&ke.d(),Ne&&Ne.d(),Ve=!1,de()}};return ae("SvelteRegisterBlock",{block:Se,id:Zs.name,type:"component",source:"",ctx:l}),Se}function El(l){return l<.1?"Excellent":l<.2?"Very Good":l<.3?"Good":l<.4?"Fair":"Needs Improvement"}function Dl(l){return l<.1?"emerald":l<.2?"blue":l<.3?"amber":l<.4?"orange":"red"}function Ul(l){const e=(l.range_start+l.range_end)/2,t=l.actual_frequency;return{expected:`${Math.round(e*100)}%`,actual:`${Math.round(t*100)}%`,diff:Math.abs(e-t)}}function rn(l,e,t){let o,c,i,{$$slots:r={},$$scope:u}=e;Yt("CalibrationProfile",r,[]);let{profile:p}=e,{showDetails:k=!1}=e;l.$$.on_mount.push(function(){p===void 0&&!("profile"in e||l.$$.bound[l.$$.props.profile])&&console.warn("<CalibrationProfile> was created without expected prop 'profile'")});const m=["profile","showDetails"];an.keys(e).forEach(h=>{!~m.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<CalibrationProfile> was created with unknown prop '${h}'`)});const _=()=>t(0,k=!k);return l.$$set=h=>{"profile"in h&&t(1,p=h.profile),"showDetails"in h&&t(0,k=h.showDetails)},l.$capture_state=()=>({profile:p,showDetails:k,getCalibrationQuality:El,getCalibrationColor:Dl,formatBucket:Ul,topDomains:i,calibrationColor:c,calibrationQuality:o}),l.$inject_state=h=>{"profile"in h&&t(1,p=h.profile),"showDetails"in h&&t(0,k=h.showDetails),"topDomains"in h&&t(2,i=h.topDomains),"calibrationColor"in h&&t(3,c=h.calibrationColor),"calibrationQuality"in h&&t(4,o=h.calibrationQuality)},e&&"$$inject"in e&&l.$inject_state(e.$$inject),l.$$.update=()=>{l.$$.dirty&2&&t(4,o=El(p.brier_score)),l.$$.dirty&2&&t(3,c=Dl(p.brier_score)),l.$$.dirty&2&&t(2,i=Object.entries(p.domain_scores||{}).sort((h,b)=>b[1].prediction_count-h[1].prediction_count).slice(0,5))},[k,p,i,c,o,_]}class Fl extends Qt{constructor(e){super(e),Xt(this,e,rn,Zs,Ut,{profile:1,showDetails:0}),ae("SvelteRegisterComponent",{component:this,tagName:"CalibrationProfile",options:e,id:Zs.name})}get profile(){throw new Error("<CalibrationProfile>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set profile(e){throw new Error("<CalibrationProfile>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get showDetails(){throw new Error("<CalibrationProfile>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set showDetails(e){throw new Error("<CalibrationProfile>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:cn}=Vl,he="src/routes/epistemic-markets/+page.svelte";function as(l,e,t){const o=l.slice();return o[13]=e[t],o}function Ql(l){let e,t,o,c;const i=[Zl,Jl],r=[];function u(k,m){return k[1]?0:1}t=u(l),o=r[t]=i[t](l);const p={c:function(){e=d("div"),o.c(),this.h()},l:function(m){e=f(m,"DIV",{class:!0});var _=g(e);o.l(_),_.forEach(v),this.h()},h:function(){n(e,"class","profile-section svelte-141a7u7"),a(e,he,301,6,9993)},m:function(m,_){ve(m,e,_),r[t].m(e,null),c=!0},p:function(m,_){let h=t;t=u(m),t===h?r[t].p(m,_):(rs(),yt(r[h],1,1,()=>{r[h]=null}),is(),o=r[t],o?o.p(m,_):(o=r[t]=i[t](m),o.c()),vt(o,1),o.m(e,null))},i:function(m){c||(vt(o),c=!0)},o:function(m){yt(o),c=!1},d:function(m){m&&v(e),r[t].d()}};return ae("SvelteRegisterBlock",{block:p,id:Ql.name,type:"if",source:"(287:38) ",ctx:l}),p}function Xl(l){let e,t,o,c="Wisdom Seeds",i,r,u="Lessons from past predictions, maturing over time into collective wisdom.",p,k,m,_;m=new Hl({props:{wisdomSeed:{if_correct:{lesson:"Community projects succeed when there is sustained early engagement from diverse stakeholders",implication:"Focus on breadth of participation, not just depth",domain_relevance:["community_organizing","governance","social_movements"]},if_incorrect:{lesson:"Early enthusiasm does not guarantee long-term commitment without structural support",implication:"Build infrastructure for sustained participation alongside initial excitement",domain_relevance:["community_organizing","psychology","sustainability"]},meta_lesson:"The relationship between initial energy and final success is mediated by the structures we build to channel that energy.",letter_to_future:"Dear future predictor: Watch not just the spark, but the vessel that holds the flame."},resolved:!0,outcome:"correct",dormancyComplete:!0},$$inline:!0});const h={c:function(){e=d("div"),t=d("div"),o=d("h2"),o.textContent=c,i=w(),r=d("p"),r.textContent=u,p=w(),k=d("div"),ds(m.$$.fragment),this.h()},l:function(C){e=f(C,"DIV",{class:!0});var S=g(e);t=f(S,"DIV",{class:!0});var V=g(t);o=f(V,"H2",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-fahft7"&&(o.textContent=c),i=y(V),r=f(V,"P",{class:!0,"data-svelte-h":!0}),z(r)!=="svelte-qk2mhv"&&(r.textContent=u),V.forEach(v),p=y(S),k=f(S,"DIV",{class:!0});var P=g(k);fs(m.$$.fragment,P),P.forEach(v),S.forEach(v),this.h()},h:function(){n(o,"class","svelte-141a7u7"),a(o,he,271,10,8550),n(r,"class","section-description svelte-141a7u7"),a(r,he,272,10,8582),n(t,"class","section-header svelte-141a7u7"),a(t,he,270,8,8511),n(k,"class","wisdom-preview svelte-141a7u7"),a(k,he,277,8,8739),n(e,"class","wisdom-section svelte-141a7u7"),a(e,he,269,6,8474)},m:function(C,S){ve(C,e,S),s(e,t),s(t,o),s(t,i),s(t,r),s(e,p),s(e,k),us(m,k,null),_=!0},p:Je,i:function(C){_||(vt(m.$$.fragment,C),_=!0)},o:function(C){yt(m.$$.fragment,C),_=!1},d:function(C){C&&v(e),cs(m)}};return ae("SvelteRegisterBlock",{block:h,id:Xl.name,type:"if",source:"(255:37) ",ctx:l}),h}function Yl(l){let e,t,o,c="Question Markets",i,r,u="What questions are worth answering? Trade on the value of knowledge itself.",p,k,m,_,h,b,C,S="Coming Soon",V,P,T="Question Markets will let you trade on which questions are most valuable to answer.";const E={c:function(){e=d("div"),t=d("div"),o=d("h2"),o.textContent=c,i=w(),r=d("p"),r.textContent=u,p=w(),k=d("div"),m=d("div"),_=We("svg"),h=We("path"),b=w(),C=d("h3"),C.textContent=S,V=w(),P=d("p"),P.textContent=T,this.h()},l:function(I){e=f(I,"DIV",{class:!0});var A=g(e);t=f(A,"DIV",{class:!0});var H=g(t);o=f(H,"H2",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-1eg095f"&&(o.textContent=c),i=y(H),r=f(H,"P",{class:!0,"data-svelte-h":!0}),z(r)!=="svelte-16n4sa"&&(r.textContent=u),H.forEach(v),p=y(A),k=f(A,"DIV",{class:!0});var B=g(k);m=f(B,"DIV",{class:!0});var M=g(m);_=Le(M,"svg",{viewBox:!0,fill:!0});var N=g(_);h=Le(N,"path",{d:!0}),g(h).forEach(v),N.forEach(v),M.forEach(v),b=y(B),C=f(B,"H3",{class:!0,"data-svelte-h":!0}),z(C)!=="svelte-k7v734"&&(C.textContent=S),V=y(B),P=f(B,"P",{class:!0,"data-svelte-h":!0}),z(P)!=="svelte-k19lii"&&(P.textContent=T),B.forEach(v),A.forEach(v),this.h()},h:function(){n(o,"class","svelte-141a7u7"),a(o,he,251,10,7618),n(r,"class","section-description svelte-141a7u7"),a(r,he,252,10,7654),n(t,"class","section-header svelte-141a7u7"),a(t,he,250,8,7579),n(h,"d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"),a(h,he,260,14,7952),n(_,"viewBox","0 0 24 24"),n(_,"fill","currentColor"),a(_,he,259,12,7892),n(m,"class","coming-soon-icon svelte-141a7u7"),a(m,he,258,10,7849),n(C,"class","svelte-141a7u7"),a(C,he,263,10,8279),n(P,"class","svelte-141a7u7"),a(P,he,264,10,8310),n(k,"class","coming-soon svelte-141a7u7"),a(k,he,257,8,7813),n(e,"class","questions-section svelte-141a7u7"),a(e,he,249,6,7539)},m:function(I,A){ve(I,e,A),s(e,t),s(t,o),s(t,i),s(t,r),s(e,p),s(e,k),s(k,m),s(m,_),s(_,h),s(k,b),s(k,C),s(k,V),s(k,P)},p:Je,i:Je,o:Je,d:function(I){I&&v(e)}};return ae("SvelteRegisterBlock",{block:E,id:Yl.name,type:"if",source:"(235:40) ",ctx:l}),E}function Gl(l){let e,t,o,c,i="Active Prediction Markets",r,u,p="+ Create Market",k,m,_=[],h=new Map,b,C,S=Ke(l[0]);const V=E=>E[13].id;fl(l,S,as,V);for(let E=0;E<S.length;E+=1){let D=as(l,S,E),I=V(D);h.set(I,_[E]=$s(I,D))}let P=l[2]&&el(l);const T={c:function(){e=d("div"),t=d("section"),o=d("div"),c=d("h2"),c.textContent=i,r=w(),u=d("button"),u.textContent=p,k=w(),m=d("div");for(let D=0;D<_.length;D+=1)_[D].c();b=w(),P&&P.c(),this.h()},l:function(D){e=f(D,"DIV",{class:!0});var I=g(e);t=f(I,"SECTION",{class:!0});var A=g(t);o=f(A,"DIV",{class:!0});var H=g(o);c=f(H,"H2",{class:!0,"data-svelte-h":!0}),z(c)!=="svelte-1xl942w"&&(c.textContent=i),r=y(H),u=f(H,"BUTTON",{class:!0,"data-svelte-h":!0}),z(u)!=="svelte-ax5yiz"&&(u.textContent=p),H.forEach(v),k=y(A),m=f(A,"DIV",{class:!0});var B=g(m);for(let M=0;M<_.length;M+=1)_[M].l(B);B.forEach(v),A.forEach(v),b=y(I),P&&P.l(I),I.forEach(v),this.h()},h:function(){n(c,"class","svelte-141a7u7"),a(c,he,222,12,6730),n(u,"class","create-btn svelte-141a7u7"),a(u,he,223,12,6777),n(o,"class","section-header svelte-141a7u7"),a(o,he,221,10,6689),n(m,"class","market-grid svelte-141a7u7"),a(m,he,226,10,6857),n(t,"class","market-list"),a(t,he,220,8,6649),n(e,"class","markets-layout svelte-141a7u7"),a(e,he,218,6,6583)},m:function(D,I){ve(D,e,I),s(e,t),s(t,o),s(o,c),s(o,r),s(o,u),s(t,k),s(t,m);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m(m,null);s(e,b),P&&P.m(e,null),C=!0},p:function(D,I){I&37&&(S=Ke(D[0]),rs(),fl(D,S,as,V),_=tn(_,I,V,1,D,S,h,m,sn,$s,null,as),is()),D[2]?P?(P.p(D,I),I&4&&vt(P,1)):(P=el(D),P.c(),vt(P,1),P.m(e,null)):P&&(rs(),yt(P,1,1,()=>{P=null}),is())},i:function(D){if(!C){for(let I=0;I<S.length;I+=1)vt(_[I]);vt(P),C=!0}},o:function(D){for(let I=0;I<_.length;I+=1)yt(_[I]);yt(P),C=!1},d:function(D){D&&v(e);for(let I=0;I<_.length;I+=1)_[I].d();P&&P.d()}};return ae("SvelteRegisterBlock",{block:T,id:Gl.name,type:"if",source:"(204:38) ",ctx:l}),T}function Kl(l){let e,t,o,c,i="Connecting to the epistemic network...";const r={c:function(){e=d("div"),t=d("div"),o=w(),c=d("p"),c.textContent=i,this.h()},l:function(p){e=f(p,"DIV",{class:!0});var k=g(e);t=f(k,"DIV",{class:!0}),g(t).forEach(v),o=y(k),c=f(k,"P",{"data-svelte-h":!0}),z(c)!=="svelte-1bfqo0p"&&(c.textContent=i),k.forEach(v),this.h()},h:function(){n(t,"class","loading-spinner svelte-141a7u7"),a(t,he,214,8,6435),a(c,he,215,8,6479),n(e,"class","loading svelte-141a7u7"),a(e,he,213,6,6405)},m:function(p,k){ve(p,e,k),s(e,t),s(e,o),s(e,c)},p:Je,i:Je,o:Je,d:function(p){p&&v(e)}};return ae("SvelteRegisterBlock",{block:r,id:Kl.name,type:"if",source:"(199:4) {#if loading}",ctx:l}),r}function Jl(l){let e,t,o="Make your first prediction to start building your calibration profile.";const c={c:function(){e=d("div"),t=d("p"),t.textContent=o,this.h()},l:function(r){e=f(r,"DIV",{class:!0});var u=g(e);t=f(u,"P",{"data-svelte-h":!0}),z(t)!=="svelte-g2b7ap"&&(t.textContent=o),u.forEach(v),this.h()},h:function(){a(t,he,306,12,10182),n(e,"class","no-profile svelte-141a7u7"),a(e,he,305,10,10145)},m:function(r,u){ve(r,e,u),s(e,t)},p:Je,i:Je,o:Je,d:function(r){r&&v(e)}};return ae("SvelteRegisterBlock",{block:c,id:Jl.name,type:"else",source:"(291:8) {:else}",ctx:l}),c}function Zl(l){let e,t;e=new Fl({props:{profile:l[1],showDetails:!0},$$inline:!0});const o={c:function(){ds(e.$$.fragment)},l:function(i){fs(e.$$.fragment,i)},m:function(i,r){us(e,i,r),t=!0},p:function(i,r){const u={};r&2&&(u.profile=i[1]),e.$set(u)},i:function(i){t||(vt(e.$$.fragment,i),t=!0)},o:function(i){yt(e.$$.fragment,i),t=!1},d:function(i){cs(e,i)}};return ae("SvelteRegisterBlock",{block:o,id:Zl.name,type:"if",source:"(289:8) {#if myProfile}",ctx:l}),o}function $s(l,e){var u;let t,o,c;function i(){return e[11](e[13])}o=new Wl({props:{market:e[13],showDetails:((u=e[2])==null?void 0:u.id)===e[13].id},$$inline:!0}),o.$on("click",i);const r={key:l,first:null,c:function(){t=ul(),ds(o.$$.fragment),this.h()},l:function(k){t=ul(),fs(o.$$.fragment,k),this.h()},h:function(){this.first=t},m:function(k,m){ve(k,t,m),us(o,k,m),c=!0},p:function(k,m){var h;e=k;const _={};m&1&&(_.market=e[13]),m&5&&(_.showDetails=((h=e[2])==null?void 0:h.id)===e[13].id),o.$set(_)},i:function(k){c||(vt(o.$$.fragment,k),c=!0)},o:function(k){yt(o.$$.fragment,k),c=!1},d:function(k){k&&v(t),cs(o,k)}};return ae("SvelteRegisterBlock",{block:r,id:$s.name,type:"each",source:"(214:12) {#each markets as market (market.id)}",ctx:e}),r}function el(l){let e,t,o;t=new xl({props:{market:l[2]},$$inline:!0}),t.$on("submit",l[6]);const c={c:function(){e=d("aside"),ds(t.$$.fragment),this.h()},l:function(r){e=f(r,"ASIDE",{class:!0});var u=g(e);fs(t.$$.fragment,u),u.forEach(v),this.h()},h:function(){n(e,"class","prediction-panel svelte-141a7u7"),a(e,he,239,10,7282)},m:function(r,u){ve(r,e,u),us(t,e,null),o=!0},p:function(r,u){const p={};u&4&&(p.market=r[2]),t.$set(p)},i:function(r){o||(vt(t.$$.fragment,r),o=!0)},o:function(r){yt(t.$$.fragment,r),o=!1},d:function(r){r&&v(e),cs(t)}};return ae("SvelteRegisterBlock",{block:c,id:el.name,type:"if",source:"(225:8) {#if selectedMarket}",ctx:l}),c}function tl(l){let e,t,o,c,i,r="Epistemic Markets",u,p,k="Collective truth-seeking through prediction and wisdom",m,_,h,b,C=l[0].length+"",S,V,P,T="Active Markets",E,D,I,A=l[0].reduce(Sl,0)+"",H,B,M,N="Predictions",j,W,R,x=(l[0].reduce(Pl,0)/1e3).toFixed(1)+"",X,G,$,Z,ye="Total Volume",De,Y,K,_e="Markets",J,te,je="Question Markets",Be,ue,le="Wisdom Seeds",se,re,q="My Calibration",Me,Ie,Ee,ce,pe,Re,He;const xe=[Kl,Gl,Yl,Xl,Ql],Te=[];function ze(Ve,de){return Ve[4]?0:Ve[3]==="markets"?1:Ve[3]==="questions"?2:Ve[3]==="wisdom"?3:Ve[3]==="profile"?4:-1}~(Ee=ze(l))&&(ce=Te[Ee]=xe[Ee](l));const qe={c:function(){e=w(),t=d("div"),o=d("header"),c=d("div"),i=d("h1"),i.textContent=r,u=w(),p=d("p"),p.textContent=k,m=w(),_=d("div"),h=d("div"),b=d("span"),S=U(C),V=w(),P=d("span"),P.textContent=T,E=w(),D=d("div"),I=d("span"),H=U(A),B=w(),M=d("span"),M.textContent=N,j=w(),W=d("div"),R=d("span"),X=U(x),G=U("k"),$=w(),Z=d("span"),Z.textContent=ye,De=w(),Y=d("nav"),K=d("button"),K.textContent=_e,J=w(),te=d("button"),te.textContent=je,Be=w(),ue=d("button"),ue.textContent=le,se=w(),re=d("button"),re.textContent=q,Me=w(),Ie=d("main"),ce&&ce.c(),this.h()},l:function(de){en("svelte-5oazpy",document.head).forEach(v),e=y(de),t=f(de,"DIV",{class:!0});var fe=g(t);o=f(fe,"HEADER",{class:!0});var ke=g(o);c=f(ke,"DIV",{class:!0});var Ne=g(c);i=f(Ne,"H1",{class:!0,"data-svelte-h":!0}),z(i)!=="svelte-1p9op9e"&&(i.textContent=r),u=y(Ne),p=f(Ne,"P",{class:!0,"data-svelte-h":!0}),z(p)!=="svelte-5lejtf"&&(p.textContent=k),Ne.forEach(v),m=y(ke),_=f(ke,"DIV",{class:!0});var Se=g(_);h=f(Se,"DIV",{class:!0});var Ce=g(h);b=f(Ce,"SPAN",{class:!0});var ge=g(b);S=O(ge,C),ge.forEach(v),V=y(Ce),P=f(Ce,"SPAN",{class:!0,"data-svelte-h":!0}),z(P)!=="svelte-1kyhqpf"&&(P.textContent=T),Ce.forEach(v),E=y(Se),D=f(Se,"DIV",{class:!0});var F=g(D);I=f(F,"SPAN",{class:!0});var ne=g(I);H=O(ne,A),ne.forEach(v),B=y(F),M=f(F,"SPAN",{class:!0,"data-svelte-h":!0}),z(M)!=="svelte-1vimsic"&&(M.textContent=N),F.forEach(v),j=y(Se),W=f(Se,"DIV",{class:!0});var Fe=g(W);R=f(Fe,"SPAN",{class:!0});var nt=g(R);X=O(nt,x),G=O(nt,"k"),nt.forEach(v),$=y(Fe),Z=f(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),z(Z)!=="svelte-13x36la"&&(Z.textContent=ye),Fe.forEach(v),Se.forEach(v),ke.forEach(v),De=y(fe),Y=f(fe,"NAV",{class:!0});var Qe=g(Y);K=f(Qe,"BUTTON",{class:!0,"data-svelte-h":!0}),z(K)!=="svelte-1qva2uk"&&(K.textContent=_e),J=y(Qe),te=f(Qe,"BUTTON",{class:!0,"data-svelte-h":!0}),z(te)!=="svelte-bfl28i"&&(te.textContent=je),Be=y(Qe),ue=f(Qe,"BUTTON",{class:!0,"data-svelte-h":!0}),z(ue)!=="svelte-18k9l9c"&&(ue.textContent=le),se=y(Qe),re=f(Qe,"BUTTON",{class:!0,"data-svelte-h":!0}),z(re)!=="svelte-1w166vl"&&(re.textContent=q),Qe.forEach(v),Me=y(fe),Ie=f(fe,"MAIN",{class:!0});var Ae=g(Ie);ce&&ce.l(Ae),Ae.forEach(v),fe.forEach(v),this.h()},h:function(){document.title="Epistemic Markets | Mycelix Observatory",n(i,"class","svelte-141a7u7"),a(i,he,159,6,4918),n(p,"class","subtitle svelte-141a7u7"),a(p,he,160,6,4951),n(c,"class","header-content svelte-141a7u7"),a(c,he,158,4,4883),n(b,"class","stat-value svelte-141a7u7"),a(b,he,164,8,5105),n(P,"class","stat-label svelte-141a7u7"),a(P,he,165,8,5162),n(h,"class","stat svelte-141a7u7"),a(h,he,163,6,5078),n(I,"class","stat-value svelte-141a7u7"),a(I,he,168,8,5255),n(M,"class","stat-label svelte-141a7u7"),a(M,he,169,8,5353),n(D,"class","stat svelte-141a7u7"),a(D,he,167,6,5228),n(R,"class","stat-value svelte-141a7u7"),a(R,he,172,8,5443),n(Z,"class","stat-label svelte-141a7u7"),a(Z,he,173,8,5558),n(W,"class","stat svelte-141a7u7"),a(W,he,171,6,5416),n(_,"class","header-stats svelte-141a7u7"),a(_,he,162,4,5045),n(o,"class","page-header svelte-141a7u7"),a(o,he,157,2,4850),n(K,"class","tab svelte-141a7u7"),Ge(K,"active",l[3]==="markets"),a(K,he,180,4,5692),n(te,"class","tab svelte-141a7u7"),Ge(te,"active",l[3]==="questions"),a(te,he,187,4,5846),n(ue,"class","tab svelte-141a7u7"),Ge(ue,"active",l[3]==="wisdom"),a(ue,he,194,4,6013),n(re,"class","tab svelte-141a7u7"),Ge(re,"active",l[3]==="profile"),a(re,he,201,4,6170),n(Y,"class","tabs svelte-141a7u7"),a(Y,he,179,2,5669),n(Ie,"class","content svelte-141a7u7"),a(Ie,he,211,2,6358),n(t,"class","epistemic-markets-page svelte-141a7u7"),a(t,he,155,0,4793)},m:function(de,ie){ve(de,e,ie),ve(de,t,ie),s(t,o),s(o,c),s(c,i),s(c,u),s(c,p),s(o,m),s(o,_),s(_,h),s(h,b),s(b,S),s(h,V),s(h,P),s(_,E),s(_,D),s(D,I),s(I,H),s(D,B),s(D,M),s(_,j),s(_,W),s(W,R),s(R,X),s(R,G),s(W,$),s(W,Z),s(t,De),s(t,Y),s(Y,K),s(Y,J),s(Y,te),s(Y,Be),s(Y,ue),s(Y,se),s(Y,re),s(t,Me),s(t,Ie),~Ee&&Te[Ee].m(Ie,null),pe=!0,Re||(He=[Ue(K,"click",l[7],!1,!1,!1,!1),Ue(te,"click",l[8],!1,!1,!1,!1),Ue(ue,"click",l[9],!1,!1,!1,!1),Ue(re,"click",l[10],!1,!1,!1,!1)],Re=!0)},p:function(de,[ie]){(!pe||ie&1)&&C!==(C=de[0].length+"")&&me(S,C),(!pe||ie&1)&&A!==(A=de[0].reduce(Sl,0)+"")&&me(H,A),(!pe||ie&1)&&x!==(x=(de[0].reduce(Pl,0)/1e3).toFixed(1)+"")&&me(X,x),(!pe||ie&8)&&Ge(K,"active",de[3]==="markets"),(!pe||ie&8)&&Ge(te,"active",de[3]==="questions"),(!pe||ie&8)&&Ge(ue,"active",de[3]==="wisdom"),(!pe||ie&8)&&Ge(re,"active",de[3]==="profile");let fe=Ee;Ee=ze(de),Ee===fe?~Ee&&Te[Ee].p(de,ie):(ce&&(rs(),yt(Te[fe],1,1,()=>{Te[fe]=null}),is()),~Ee?(ce=Te[Ee],ce?ce.p(de,ie):(ce=Te[Ee]=xe[Ee](de),ce.c()),vt(ce,1),ce.m(Ie,null)):ce=null)},i:function(de){pe||(vt(ce),pe=!0)},o:function(de){yt(ce),pe=!1},d:function(de){de&&(v(e),v(t)),~Ee&&Te[Ee].d(),Re=!1,Ft(He)}};return ae("SvelteRegisterBlock",{block:qe,id:tl.name,type:"component",source:"",ctx:l}),qe}const Sl=(l,e)=>l+e.prediction_count,Pl=(l,e)=>l+e.total_volume;function un(l,e,t){let{$$slots:o={},$$scope:c}=e;Yt("Page",o,[]);let i=[],r=null,u=null,p="markets",k=!0;cl(async()=>{await m(),t(4,k=!1)});async function m(){t(0,i=[{id:"market-001",title:"Will the community garden project have 50+ active participants by year end?",description:"Success is defined as having at least 50 individuals who have contributed at least 10 hours in the past 3 months.",outcomes:[{name:"Yes",probability:.72,volume:15420},{name:"No",probability:.28,volume:6180}],epistemic_position:{empirical:"testimonial",normative:"communal",materiality:"persistent"},mechanism:{type:"LMSR"},status:"open",created_at:Date.now()-864e5*30,closes_at:Date.now()+864e5*60,total_volume:21600,prediction_count:47,creator:"uhCAk...abc123",resolution_config:{min_oracles:7,consensus_threshold:.75,byzantine_tolerance:.34}},{id:"market-002",title:"What will be the average solar panel efficiency improvement by 2027?",description:"Measured as percentage improvement over current commercial panel efficiency (~22%)",outcomes:[{name:"<5%",probability:.15,volume:3200},{name:"5-10%",probability:.45,volume:9800},{name:"10-15%",probability:.3,volume:6500},{name:">15%",probability:.1,volume:2100}],epistemic_position:{empirical:"measurable",normative:"universal",materiality:"foundational"},mechanism:{type:"Parimutuel"},status:"open",created_at:Date.now()-864e5*45,closes_at:Date.now()+864e5*365,total_volume:21600,prediction_count:128,creator:"uhCAk...def456",resolution_config:{min_oracles:3,consensus_threshold:.95,byzantine_tolerance:.34}},{id:"market-003",title:"Will the governance proposal for treasury diversification pass?",description:"MIP-47: Proposal to allocate 20% of treasury to regenerative agriculture investments",outcomes:[{name:"Pass",probability:.58,volume:45200},{name:"Fail",probability:.42,volume:32800}],epistemic_position:{empirical:"cryptographic",normative:"network",materiality:"persistent"},mechanism:{type:"Binary"},status:"open",created_at:Date.now()-864e5*7,closes_at:Date.now()+864e5*7,total_volume:78e3,prediction_count:234,creator:"uhCAk...ghi789",resolution_config:{min_oracles:5,consensus_threshold:.9,byzantine_tolerance:.34}}]),t(1,r={agent:"uhCAktest12345678901234567890",brier_score:.18,calibration_buckets:[{range_start:0,range_end:.2,prediction_count:12,actual_frequency:.08},{range_start:.2,range_end:.4,prediction_count:18,actual_frequency:.33},{range_start:.4,range_end:.6,prediction_count:25,actual_frequency:.52},{range_start:.6,range_end:.8,prediction_count:30,actual_frequency:.7},{range_start:.8,range_end:1,prediction_count:15,actual_frequency:.87}],domain_scores:{governance:{prediction_count:23,accuracy:.78,reputation:85,calibration:.82},technology:{prediction_count:31,accuracy:.71,reputation:72,calibration:.75},community:{prediction_count:18,accuracy:.83,reputation:91,calibration:.88},climate:{prediction_count:12,accuracy:.67,reputation:58,calibration:.7}},resolution_score:.76,reliability_score:.82,epistemic_virtues:{updates_beliefs:.85,acknowledges_uncertainty:.72,productive_disagreement:.68,reasoning_transparency:.91},total_predictions:84,created_at:Date.now()-864e5*180,updated_at:Date.now()})}function _(E){t(2,u=(u==null?void 0:u.id)===E.id?null:E)}function h(E){console.log("Prediction submitted:",E.detail),t(2,u=null)}const b=[];Object.keys(e).forEach(E=>{!~b.indexOf(E)&&E.slice(0,2)!=="$$"&&E!=="slot"&&cn.warn(`<Page> was created with unknown prop '${E}'`)});const C=()=>t(3,p="markets"),S=()=>t(3,p="questions"),V=()=>t(3,p="wisdom"),P=()=>t(3,p="profile"),T=E=>_(E);return l.$capture_state=()=>({onMount:cl,MarketCard:Wl,PredictionForm:xl,CalibrationProfile:Fl,WisdomSeedDisplay:Hl,markets:i,myProfile:r,selectedMarket:u,activeTab:p,loading:k,loadDemoData:m,handleMarketSelect:_,handlePredictionSubmit:h}),l.$inject_state=E=>{"markets"in E&&t(0,i=E.markets),"myProfile"in E&&t(1,r=E.myProfile),"selectedMarket"in E&&t(2,u=E.selectedMarket),"activeTab"in E&&t(3,p=E.activeTab),"loading"in E&&t(4,k=E.loading)},e&&"$$inject"in e&&l.$inject_state(e.$$inject),[i,r,u,p,k,_,h,C,S,V,P,T]}class hn extends Qt{constructor(e){super(e),Xt(this,e,un,tl,Ut,{}),ae("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:tl.name})}}export{hn as component};
